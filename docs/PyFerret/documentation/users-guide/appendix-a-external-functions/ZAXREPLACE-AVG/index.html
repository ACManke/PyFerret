 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML+RDFa 1.1//EN">
<html lang="en" dir="ltr" version="HTML+RDFa 1.1"
xmlns:content="http://purl.org/rss/1.0/modules/content/"
xmlns:dc="http://purl.org/dc/terms/"
xmlns:foaf="http://xmlns.com/foaf/0.1/"
xmlns:og="http://ogp.me/ns#"
xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
xmlns:sioc="http://rdfs.org/sioc/ns#"
xmlns:sioct="http://rdfs.org/sioc/types#"
xmlns:skos="http://www.w3.org/2004/02/skos/core#"
xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
xmlns:schema="http://schema.org/">
<head profile="http://www.w3.org/1999/xhtml/vocab">
<title>ZAXREPLACE_AVG - Ferret/PyFerret Support</title>
<!--  edited css for simplified html Ferret/PyFerret Users Guide -->
<link rel="stylesheet" href="../../css/ckeditor_custom.css?rwj4yp">
<link rel="stylesheet" href="../../css/alpha-reset.css?rwj4yp">
<link rel="stylesheet" href="../../css/omega-text.css?rwj4yp">
<link rel="stylesheet" href="../../css/alpha-default.css?rwj4yp">
<h1 class="title" id="page-title">ZAXREPLACE_AVG</h1>
<div class="field-item even" property="content:encoded"><h3 align="left">Appendix A Sec35. <a name="AppendixA_ZAXREPLACE_AVG" id="AppendixA_ZAXREPLACE_AVG"></a><a name="_VPID_580" id="_VPID_580"></a><a name="_VPINDEXENTRY_2054" id="_VPINDEXENTRY_2054"></a></h3>
<p align="left" class="callout"><b>ZAXREPLACE_AVG </b></p>
<pre>
ZAXREPLACE_AVG(V,ZVALS,ZAX)</pre><p align="left">Use weighted averaging to convert between alternative monotonic Zaxes. The weighting is done according to the portion of the source box that lies within the destination grid cell.</p>
<p align="left">The mapping between the source and destination Z axes is a function of X,Y, and or T. Typical applications in the field of oceanography include converting from a Z axis of layer number to a Z axis in units of depth (e.g., for sigma coordinate fields) and converting from a Z axes of depth to one of density (for a stably stratified fluid).</p>
<p align="left">Argument 1, V, is the field of data values, say temperature on the "source" Z-axis, say, layer number. The second argument, ZVALS, contains values in units of the desired destination Z axis (ZAX) on the same Z axis as V‚ for example, depth values associated with each vertical layer. The third argument, ZAX, is any variable defined on the destination Z axis, often "Z[gz=zaxis_name]" is used. For an example of the ZAXREPLACE family of functions see <a href="../variables-xpressions/XPRESSIONS                               
<p> </p>
<p align="left"><b>Note: </b></p>
<p align="left">ZAXREPLACE_AVE is a "grid-changing" function; its output grid is different from the input arguments. Therefore it is best to use explicit limits on the arguments rather than a SET REGION command. See the discussion of <a href="http://ferret.lark.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPINDEXENTRY_306">grid-changing functions</a>.  In addition, because it is implemented as an external function, the arguments are loaded in their entirety when the funct                                                                                                                                                                                                                 
<pre>
let var_den = zaxreplace_ave(<b>salt[x=140:190,y=-10:10,L=5], sigma[x=140:190,y=-10:10,L=5], z[gz=axden])</b></pre><p> </p>
<table><tbody><tr><td>
<p align="left"><b>Arguments: </b></p>
</td>
<td>
<p align="left">V</p>
</td>
<td>
<p align="left">A function of depth and perhaps, x, y, and time.</p>
</td>
</tr><tr><td> </td>
<td>
<p align="left">ZVALS</p>
</td>
<td>
<p align="left">Destination Z axis values as a fcn of source Z axis</p>
</td>
</tr><tr><td> </td>
<td>
<p align="left">ZAX</p>
</td>
<td>
<p align="left">Variable with desired z (depth) axis points</p>
</td>
</tr><tr><td>
<p align="left"><b>Result Axes:</b></p>
</td>
<td>
<p align="left">X</p>
</td>
<td>
<p align="left">Inherited from V</p>
</td>
</tr><tr><td> </td>
<td>
<p align="left">Y</p>
</td>
<td>
<p align="left">Inherited from V</p>
</td>
</tr><tr><td> </td>
<td>
<p align="left">Z</p>
</td>
<td>
<p align="left">Inherited from ZAX</p>
</td>
</tr><tr><td> </td>
<td>
<p align="left">T</p>
</td>
<td>
<p align="left">Inherited from V</p>
</td>
</tr></tbody></table><p align="left"> </p>
<p> </p>
</body>
</html>
 
