 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML+RDFa 1.1//EN">
<html lang="en" dir="ltr" version="HTML+RDFa 1.1"
xmlns:content="https://purl.org/rss/1.0/modules/content/"
xmlns:dc="https://purl.org/dc/terms/"
xmlns:foaf="https://xmlns.com/foaf/0.1/"
xmlns:og="https://ogp.me/ns#"
xmlns:rdfs="https://www.w3.org/2000/01/rdf-schema#"
xmlns:sioc="https://rdfs.org/sioc/ns#"
xmlns:sioct="https://rdfs.org/sioc/types#"
xmlns:skos="https://www.w3.org/2004/02/skos/core#"
xmlns:xsd="https://www.w3.org/2001/XMLSchema#"
xmlns:schema="https://schema.org/">

<!-- Mirrored from ferret.pmel.noaa.gov/Ferret/documentation/users-guide/converting-to-netcdf/SIMPLE-CONVERSIONS-USING-FERRET by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2023 18:11:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="https://www.w3.org/1999/xhtml/vocab">
<title>10.2 SIMPLE CONVERSIONS USING FERRET - Ferret/PyFerret Documentation</title>

<link rel="stylesheet" href="../../../modules/system/system.base.css">
<link rel="stylesheet" href="../../../modules/system/system.menus.css">
<link rel="stylesheet" href="../../../modules/system/system.messages.css">
<link rel="stylesheet" href="../../../modules/system/system.theme.css">

<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.core.min.css">
<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.theme.min.css">
<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.menu.min.css">
<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.autocomplete.min.css">

<link rel="stylesheet" href="../../../sites/all/modules/calendar/css/calendar_multiday.css">
<link rel="stylesheet" href="../../../modules/field/theme/field.css">
<link rel="stylesheet" href="../../../sites/all/modules/scald/modules/fields/mee/css/editor-global.css">
<link rel="stylesheet" href="../../../modules/node/node.css">
<link rel="stylesheet" href="../../../sites/all/modules/scald_file/scald_file.css">
<link rel="stylesheet" href="../../../modules/search/search.css">
<link rel="stylesheet" href="../../../modules/user/user.css">
<link rel="stylesheet" href="../../../sites/all/modules/views/css/views.css">
<link rel="stylesheet" href="../../../sites/all/modules/ckeditor/css/ckeditor.css">

<link rel="stylesheet" href="../../../sites/all/modules/ctools/css/ctools.css">
<link rel="stylesheet" href="../../../sites/all/modules/custom_search/custom_search.css">
<link rel="stylesheet" href="../../../sites/all/modules/search_autocomplete/css/themes/minimal.css">
<link rel="stylesheet" href="../../../sites/all/libraries/superfish/css/superfish.css">
<link rel="stylesheet" href="../../../sites/all/libraries/superfish/css/superfish-smallscreen.css">
<link rel="stylesheet" href="../../../sites/all/libraries/superfish/css/superfish-vertical.css">

<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/ckeditor_custom.css">

<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/alpha-reset.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/alpha-mobile.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/alpha-alpha.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/formalize.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-text.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-branding.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-menu.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-forms.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-visuals.css">
<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/global.css">



<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css">
<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-wide.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/grid/alpha_default/wide/alpha-default-wide-12.css">


</head>
<body class="html not-front not-logged-in page-node page-node- page-node-555 node-type-documentation-page context-documentation">
  <div id="body-bg-top"></div>
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div class="page clearfix" id="page">
      <header id="section-header" class="section section-header">
  <div id="zone-header-wrapper" class="zone-wrapper zone-header-wrapper clearfix">  
  <div id="zone-header" class="zone zone-header clearfix container-12">
    <div class="grid-7 region region-branding" id="region-branding">
  <div class="region-inner region-branding-inner">
        <div class="branding-data clearfix">
            <div class="logo-img">
        <a href="../../../index.html" rel="home" title=""><img src="../../../sites/all/themes/pacific_marine/images/ferret-banner.png" alt="" id="logo" /></a>
		</div>
                </div>
          </div>
</div><div class="grid-5 region region-header-first" id="region-header-first">
  <div class="region-inner region-header-first-inner">
    <div class="block block-block block-4 block-block-4 odd block-without-title" id="block-block-4">
  <div class="block-inner clearfix">

  </div>
</div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-menu-wrapper" class="zone-wrapper zone-menu-wrapper clearfix">  
  <div id="zone-menu" class="zone zone-menu clearfix container-12">
    <div class="grid-12 region region-menu" id="region-menu">
  <div class="region-inner region-menu-inner">
        <div class="block block-system block-menu block-main-menu block-system-main-menu odd block-without-title" id="block-system-main-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu">
	  <li class="first expanded"><a href="../../../index.html">Home</a>
</li>
<li class="leaf"><a href="../../ferret-documentation.html">Documentation</a></li>
<li class="leaf"><a href="../../../faq/ferret-faqs.html">FAQ</a></li>
<li class="collapsed"><a href="../../pyferret/downloads.html">Downloads</a></li>
<li class="collapsed"><a href="../../pyferret-support.html">Support</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div>
  </div>
</div></header> 
<section id="section-content" class="section section-content">
<div id="zone-preface-wrapper" class="zone-wrapper zone-preface-wrapper clearfix">  
<div id="zone-preface" class="zone zone-preface clearfix equal-height-container container-12">
<div class="grid-3 region region-preface-first equal-height-element" id="region-preface-first">
<div class="region-inner region-preface-first-inner">
</div>
</div><div class="grid-9 region region-preface-second equal-height-element" id="region-preface-second">
<div class="region-inner region-preface-second-inner">
</div>
</div>  </div>
</div><div id="zone-content-wrapper" class="zone-wrapper zone-content-wrapper clearfix sidebar">  
<div id="zone-content" class="zone zone-content clearfix equal-height-container container-12">    

        <aside class="grid-3 region region-sidebar-first equal-height-element" id="region-sidebar-first">
  <div class="region-inner region-sidebar-first-inner">
    <div class="block block-superfish block-1 block-superfish-1 odd block-without-title" id="block-superfish-1">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul  id="superfish-1" class="menu sf-menu sf-main-menu sf-vertical sf-style-none sf-total-items-8 sf-parent-items-4 sf-single-items-4"><li id="menu-1620-1" class="first odd sf-item-1 sf-depth-2 sf-no-children"><a href="../../version-763-release-notes.html" class="sf-depth-2">Current Release Notes</a></li>
<li id="menu-1170-1" class="active-trail middle even sf-item-2 sf-depth-2 sf-total-children-17 sf-parent-children-15 sf-single-children-2 menuparent">
<a href="../users-guide.html" class="sf-depth-2 menuparent">Ferret Users Guide</a>

<ul>
<li id="menu-1613-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../full-index/index.html" class="sf-depth-3">Users Guide Index</a></li>
<li id="menu-1154-1" class="middle even sf-item-2 sf-depth-3 sf-total-children-41 sf-parent-children-0 sf-single-children-41 menuparent"><a href="../commands-reference/commands-reference.html" class="sf-depth-3 menuparent">Commands Reference</a>
	  
</li>
<li id="menu-1390-1" class="middle odd sf-item-3 sf-depth-3 sf-total-children-8 sf-parent-children-0 sf-single-children-8 menuparent"><a href="../introduction/introduction.html" class="sf-depth-3 menuparent">1. Introduction</a>
</li>
<li id="menu-1391-1" class="middle even sf-item-4 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="../data-set-basics/data-set-basics.html" class="sf-depth-3 menuparent">2. Data Set Basics</a>
</li>
<li id="menu-1392-1" class="middle odd sf-item-5 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="../variables-xpressions/variables-xpressions.html" class="sf-depth-3 menuparent">3. Variables &amp; Expressions</a>
	</li>
<li id="menu-1393-1" class="middle even sf-item-6 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../Grids-Regions/Grids-Regions.html" class="sf-depth-3 menuparent">4. Grids &amp; Regions</a>
</li>
<li id="menu-1394-1" class="middle odd sf-item-7 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="../animations-gif-images/animations-gif-images.html" class="sf-depth-3 menuparent">5. Animations &amp; Gif Images</a>
</li>
<li id="menu-1395-1" class="middle even sf-item-8 sf-depth-3 sf-total-children-12 sf-parent-children-0 sf-single-children-12 menuparent"><a href="../customizing-plots/customizing-plots.html" class="sf-depth-3 menuparent">6. Customizing Plots</a>
</li>
<li id="menu-1396-1" class="middle odd sf-item-9 sf-depth-3 sf-total-children-11 sf-parent-children-0 sf-single-children-11 menuparent"><a href="../handling-string-data-symbols/handling-string-data-symbols.html" class="sf-depth-3 menuparent">7. Handling String Data Symbols</a>
</li>
<li id="menu-1397-1" class="middle even sf-item-10 sf-depth-3 sf-total-children-10 sf-parent-children-0 sf-single-children-10 menuparent"><a href="../working-with-special-data-sets/working-with-special-data-sets.html" class="sf-depth-3 menuparent">8. Working with Special Data Sets</a>
</li>
<li id="menu-1398-1" class="middle odd sf-item-11 sf-depth-3 sf-total-children-7 sf-parent-children-0 sf-single-children-7 menuparent"><a href="../computing-environment/computing-environment.html" class="sf-depth-3 menuparent">9. Computing Environment</a>
</li>
<li id="menu-1399-1" class="middle even sf-item-12 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../converting-to-netcdf/converting-to-netcdf.html" class="sf-depth-3 menuparent">10. Converting to NetCDF</a>
</li>
<li id="menu-1400-1" class="middle odd sf-item-13 sf-depth-3 sf-total-children-6 sf-parent-children-0 sf-single-children-6 menuparent"><a href="../writing-external-functions/writing-external-functions.html" class="sf-depth-3 menuparent">11. Writing External Functions</a>
</li>
<li id="menu-1166-1" class="active-trail middle even sf-item-14 sf-depth-3 sf-no-children"><a href="../glossary/glossary.html" class="sf-depth-3 active">Glossary</a></li>
<li id="menu-1427-1" class="middle odd sf-item-15 sf-depth-3 sf-total-children-58 sf-parent-children-0 sf-single-children-58 menuparent"><a href="../appendix-a-external-functions/appendix-a-external-functions.html" class="sf-depth-3 menuparent">Appendix A: Functions</a>
</li>
<li id="menu-1168-1" class="middle even sf-item-16 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="../appendix-b-pplus-guide/appendix-b-pplus-guide.html" class="sf-depth-3 menuparent">Appendix B: PPLUS Guide</a>
</li>
<li id="menu-1169-1" class="last odd sf-item-17 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../appendix-c-ferret-specific-pplus-enhancements/appendix-c-ferret-specific-pplus-enhancements.html" class="sf-depth-3 menuparent">Appendix C: Ferret-Specific PPLUS Enhancements</a>
</li>
</ul></li>
<li id="menu-1336-1" class="middle odd sf-item-3 sf-depth-2 sf-no-children"><a href="../../all-release-notes.html" class="sf-depth-2">Previous Release Notes</a></li>
<li id="menu-1339-1" class="middle even sf-item-4 sf-depth-2 sf-total-children-15 sf-parent-children-1 sf-single-children-14 menuparent"><a href="../../ferret-tutorials.html" class="sf-depth-2 menuparent">Tutorials and Demos</a>
<ul>
<li id="menu-1338-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../../demos/ferret-tutorial-script.html" class="sf-depth-3">Ferret Tour</a></li>
<li id="menu-1618-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../demos/dsg-files-discrete-sampling-geometries-demo.html" class="sf-depth-3">DSG files: Discrete Sampling Geometries Demo</a></li>
<li id="menu-1591-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../../demos/ferret-sorting-demo.html" class="sf-depth-4">Ferret sorting demo</a></li>
<li id="menu-1344-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../../demos/how-to-use-ferret-external-functions-for-computing-ffts.html" class="sf-depth-4">Fast Fourier Transforms demo</a></li>
<li id="menu-1345-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../../demos/ferret-eof-demo.html" class="sf-depth-4">Empirical Orthogonal Functions demo</a></li>
<li id="menu-1346-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="../../demos/ferret-objective-analysis.html" class="sf-depth-4">Ferret objective analysis demo</a></li>

<li id="menu-1353-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="../../demos/ferret-palette-demo.html" class="sf-depth-3">Ferret Palette Demo</a></li>
<li id="menu-1350-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="../../demos/ferret-map-projections-demo.html" class="sf-depth-3">Map projections</a></li>
<li id="menu-1354-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="../../demos/ferret-polygon-vector-demo.html" class="sf-depth-3">Ferret polygon vector demo</a></li>
<li id="menu-1355-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="../../demos/ferret-graticules-demo.html" class="sf-depth-3">Ferret Graticules demo</a></li>
<li id="menu-1352-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="../../demos/ferret-polytube-demo.html" class="sf-depth-3">Ferret Polytube Demo</a></li>
<li id="menu-1351-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="../../demos/ferret-polymark-demo.html" class="sf-depth-3">Ferret Polymark Demo</a></li>
<li id="menu-1349-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="../../demos/ferret-constant-array-demo.html" class="sf-depth-3">Ferret Constant-Array demo</a></li>
<li id="menu-1356-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="../../demos/ferret-land_detail-demo.html" class="sf-depth-3">Ferret land_detail demo</a></li>
<li id="menu-1340-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href="../../demos/coads-tour.html" class="sf-depth-3">COADS Tour</a></li>
<li id="menu-1341-1" class="middle odd sf-item-13 sf-depth-3 sf-no-children"><a href="../../demos/levitus-tour.html" class="sf-depth-3">Levitus Tour</a></li>
<li id="menu-1342-1" class="middle even sf-item-14 sf-depth-3 sf-no-children"><a href="../../demos/how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1.html" class="sf-depth-3">Use OPeNDAP</a></li>
<li id="menu-1348-1" class="last odd sf-item-15 sf-depth-3 sf-no-children"><a href="../../demos/ferret-binary-read-demo.html" class="sf-depth-3">Ferret binary read demo</a></li>
</ul></li>
<li id="menu-1333-1" class="middle odd sf-item-5 sf-depth-2 sf-total-children-13 sf-parent-children-1 sf-single-children-12 menuparent"><a href="../../pyferret.html" class="sf-depth-2 menuparent">PyFerret</a>
<ul>
<li id="menu-1426-1" class="first odd sf-item-1 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../../pyferret/downloads.html" class="sf-depth-3 menuparent">PyFerret Downloads and Install</a>
../../faq/ferret-faqs.html</li>
<li id="menu-1359-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../pyferret/what-is-pyferret.html" class="sf-depth-3">What is PyFerret?</a></li>
<li id="menu-1360-1" class="middle odd sf-item-3 sf-depth-3 sf-no-children"><a href="../../pyferret/why-use-pyferret.html" class="sf-depth-3">Why use PyFerret?</a></li>
<li id="menu-1361-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="../../pyferret/example-sessions-ferret.html" class="sf-depth-3">PyFerret for the Ferret user</a></li>
<li id="menu-1362-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="../../pyferret/pyferret-quick-start-notes.html" class="sf-depth-3">PyFerret command syntax: quick-start notes</a></li>
<li id="menu-1364-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="../../pyferret/example-sessions-python.html" class="sf-depth-3">PyFerret for the Python user</a></li>
<li id="menu-1365-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="../../pyferret/graphics.html" class="sf-depth-3">Graphics in PyFerret ?</a></li>
<li id="menu-1366-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="../../pyferret/ferret-functionality.html" class="sf-depth-3">New Ferret functionality</a></li>
<li id="menu-1367-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="../../pyferret/python-functions.html" class="sf-depth-3">PyFerret Python functions and constants</a></li>
<li id="menu-1368-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="../../pyferret/pyferret-python-objects.html" class="sf-depth-3">PyFerret Python objects and methods</a></li>
<li id="menu-1369-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="../../pyferret/pyefs.html" class="sf-depth-3">Ferret external functions in Python</a></li>
<li id="menu-1371-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href="../../pyferret/fortranefs.html" class="sf-depth-3">Ferret Fortran external functions</a></li>
<li id="menu-1373-1" class="last odd sf-item-13 sf-depth-3 sf-no-children"><a href="../../pyferret/data-dictionaries.html" class="sf-depth-3">PyFerret metadata-and-data dictionaries</a></li>
</ul></li>
<li id="menu-1147-1" class="middle even sf-item-6 sf-depth-2 sf-total-children-3 sf-parent-children-0 sf-single-children-3 menuparent"><a href="../../opendap/opendap-usage-in-ferret.html" class="sf-depth-2 menuparent">OPeNDAP</a>
<ul>
<li id="menu-1590-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../../opendap/opendap-usage-in-ferret.html" class="sf-depth-3">OPeNDAP usage in Ferret</a></li>
<li id="menu-1489-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../demos/how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1.html" class="sf-depth-3">Use OPeNDAP Demo</a></li>
<li id="menu-1491-1" class="last odd sf-item-3 sf-depth-3 sf-no-children"><a href="../appendix-a-external-functions/test_opendap.html" class="sf-depth-3">Test OPeNDAP</a></li>
</ul></li>
<!-- <li id="menu-1592-1" class="middle odd sf-item-7 sf-depth-2 sf-no-children"><a href="../../ferret-publications.html" class="sf-depth-2">Ferret Publications</a></li>
<li id="menu-1389-1" class="last even sf-item-8 sf-depth-2 sf-no-children"><a href="../../acknowledging-ferret.html" class="sf-depth-2">Acknowledging Ferret</a></li> -->
</ul>    </div>
  </div>
</div>  </div>
</aside><div class="grid-9 region region-content equal-height-element" id="region-content">
  <div class="region-inner region-content-inner">
<a id="main-content"></a>
<h1 class="title" id="page-title">10.2 SIMPLE CONVERSIONS USING FERRET</h1>
<div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
<div class="block-inner clearfix">
 
<div class="content clearfix">
<article about="/Ferret/documentation/users-guide/converting-to-netcdf/SIMPLE-CONVERSIONS-USING-FERRET" typeof="sioc:Item foaf:Document" class="node node-documentation-page node-promoted node-published node-not-sticky author-burger odd clearfix" id="node-documentation-page-431">

<!-- add the following line to print out updated date -->
<!-- add the following line to print out the page description -->

<div class="content clearfix">
 
<div class="field field-name-body field-type-text-with-summary field-label-hidden">
<div class="field-items">
<div class="field-item even" property="content:encoded"><p><a name="Chapter10-Simple_conversions" id="Chapter10-Simple_conversions"></a><a name="_VPID_348" id="_VPID_348"></a></p>
<p align="left">In straightforward conversion operations where ASCII or unformatted binary data files are already readable by Ferret, the conversion to direct access, self-describing netCDF formatted data can be accomplished by Ferret itself. The following set of examples illustrates these procedures:</p>
<p align="left"><b>Example 1</b></p>
<p align="left">Consider an ASCII file uv.data, with two variables, u and v, defined on a grid 360 by 180. The following set of commands will properly read in u and v and convert them to a netCDF formatted data set:</p>
<pre>
yes? DEFINE AXIS/x=1:360:1/units=degrees xaxis
yes? DEFINE AXIS/y=1:180:1/units=degrees yaxis
yes? DEFINE GRID/x=xaxis/y=yaxis uv_grid
yes? FILE/GRID=uv_grid/BAD=-999/VAR="u,v" uv.data
yes? SET VARIABLE/TITLE="zonal velocity" u
yes? SAVE/FILE=uv.cdf u,v</pre><p align="left">See command <a href="../commands-reference/DEFINE.html#PartII-Define_Axis" title="DEFINE">DEFINE AXIS</a> in the Commands Reference. See the chapter "<a href="../Grids-Regions/OVERVIEW.html" title="4.1 OVERVIEW">Grids and Regions</a>" for setting up formatted latitude, longitude and time axes.</p>
<p align="left"><b>Example 2</b></p>
<p align="left">Consider now two separate ASCII files, u.data and v.data, defined on a grid 360 by 180. The following set of commands will properly read in u and v and convert them to a single netCDF formatted data set:</p>
<pre>
yes? DEF AXIS/x=1:360:1/units=degrees xaxis
yes? DEF AXIS/y=1:180:1/units=degrees yaxis
yes? DEF GRID/x=xaxis/y=yaxis uv_grid
yes? FILE/GRID=uv_grid/BAD=-999/VAR=u u.data
yes? FILE/GRID=uv_grid/BAD=-999/VAR=v v.data
yes? SAVE/FILE=uv2.cdf u[D=1]
yes? SAVE/APPEND/FILE=uv2.cdf v[D=2]</pre><p align="left"><a name="Chapter10-NetCDF timeappend" id="Chapter10-NetCDF timeappend"></a><b><a name="_VPINDEXENTRY_1069" id="_VPINDEXENTRY_1069"></a></b><b><a name="_VPINDEXENTRY_1070" id="_VPINDEXENTRY_1070"></a></b></p>
<p align="left"><b>Example 3‚ multiple time steps</b></p>
<p align="left">Consider 12 ASCII files, uv.data1 to uv.data12, each defined on the same grid as above but each representing a successive time step. The following set of commands illustrates how to save these data into a single netCDF data set (time series):</p>
<pre>
yes? DEF AXIS/x=1:360:1 xaxis
yes? DEF AXIS/y=1:180:1 yaxis
yes? DEF AXIS/t=1:1:1 taxis1
yes? DEF GRID/x=xaxis/y=yaxis/t=taxis1 uv_grid1
yes? FILE/GRID=uv_grid1/BAD=-999/VAR="u,v" uv.data1
yes? SAVE/FILE=uv1_12t.cdf u,v
yes? CANCEL DATA uv.data1
yes? DEF AXIS/t=2:2:1 taxis1
yes? FILE/GRID=uv_grid1/BAD=-999/VAR="u,v" uv.data2
yes? SAVE/APPEND/FILE=uv1_12t.cdf u,v
. . .</pre><p align="left">and so on, redefining the time axis to be 3:3:1, 4:4:1, .. each time a new file is set.</p>
<p align="left">When the input data is in netCDF files, please see the following FAQ on using data from a set of input files. Note particularly the example showing how to add time information to the variable when the grid of the input data has no time axis.</p>
<p align="left">FAQ: <a href="../../../faq/using-data-that-spans-multiple-files.html" title="Ferret FAQs">How can I use data as a time series when it exists in multiple files?</a></p>
<p><a name="Chapter10-NetCDF append" id="Chapter10-NetCDF append"></a></p>
<p align="left"><b><a name="_VPINDEXENTRY_1071" id="_VPINDEXENTRY_1071"></a>Example 4, merging two netCDF files</b> that contain different X-Y regions</p>
<p align="left">The procedure used in example 3, above, is possible because netCDF files can be extended along the time axis. In order to append multiple regions in any dimension other than time, the netCDF file must first be created including the full span of of the non-time dimensions.</p>
<p>Consider two files with different XY ranges. The grids in these files agree in time, but if they differ in their time or other dimensions, add regridding in those directions to the LET commands so that the grids match. </p>
<pre>
yes? use a1
yes? use b1
 
yes? show data
currently SET data sets:
1&gt; ./a1.nc
name     title                             I         J         K         L
SST      SEA SURFACE TEMPERATURE          1:90      1:55      ..       1:1
 
2&gt; ./b1.nc  (default)
name     title                             I         J         K         L
TEMP     sea surface temperature          1:90      1:46      ..       1:1
 
yes? show grid sst[d=1]
GRID GMH1
name       axis              # pts   start                end                 subset
XAXIS     LONGITUDE           90mr   1E                   179E                full
YAXIS     LATITUDE            55 r   19S                  89N                 full
normal    Z
TIME      TIME                 1mr   01-JAN-2017 00:00    01-JAN-2017 00:00   full
 
yes? show grid temp[d=2]
GRID GLS1
name       axis              # pts   start                end                 subset
LONGITUDE LONGITUDE           90mr   179W(-179)           1W(-1)              full
LATITUDE  LATITUDE            46 r   45S                  45N                 full
normal    Z
TIME      TIME                 1mr   01-JAN-2017 00:00    01-JAN-2017 00:00   full
 
 
yes? ! Define axes that span both grids. This will be the output grid of the data.
 
 
yes?  define axis/x=1:359:2/units=degrees_east xbig
yes?  define axis/y=-45:89:2/units=degrees_north ybig
 
yes? set data 1
yes? let/like=sst sst_merged =  sst[gx=xbig,gy=ybig]
 
yes? ! Create the file using /XLIMITS and /YLIMITS to write the entire span of these axes
yes? ! to the file, and /X= and /Y= to specify the range of the variable we are writing
 
yes?  save/clobber/file=bigfile.nc/xlimits=1:359/ylimits=-45:89/x=1:179/y=-19:89 sst_merged
LISTing to file bigfile.nc
 
yes? ! Now, from the second file, define a variable with the same name.
 
yes? set data 2
yes? let/like=sst[d=1] sst_merged = temp[gx=xbig,gy=ybig]
 
yes? ! Write this data using the /APPEND qualifier. The data will overwrite
yes? ! the data in the file, only over the range of coordinates specified
 
yes? save/append/file=bigfile.nc/x=181:359/y=-45:45 sst_merged
LISTing to file bigfile.nc
 
yes? ! Now look at what we have created.  The listing spans data from both original datasets.
 
yes? cancel data/all
yes? cancel variable/all
 
yes? use bigfile.nc
yes? show grid sst_merged
    GRID GPJ1
 name       axis              # pts   start                end                 subset
 XBIG      LONGITUDE          180mr   1E                   1W                  full
 YBIG      LATITUDE            68 r   45S                  89N                 full
 normal    Z
 TIME      TIME                 1mr   01-JAN-2017 00:00    01-JAN-2017 00:00   full
 
 
yes? list/x=170:190/y=0 sst_merged
VARIABLE : SEA SURFACE TEMPERATURE (Deg C)
FILENAME : bigfile.nc
SUBSET   : 10 points (LONGITUDE)
LATITUDE : 1S
TIME     : 01-JAN-2017 00:00
1S    
23
171E   / 86:  29.00
173E   / 87:  28.59
175E   / 88:  28.31
177E   / 89:  28.69
179E   / 90:  28.20
179W   / 91:  28.86
177W   / 92:  27.98
175W   / 93:  27.80
173W   / 94:  28.29
171W   / 95:  27.94</pre><p> </p>
<p align="left"><b>Example 5‚ multiple slabs</b></p>
<p align="left">The procedure used in example 3 above, is possible because netCDF files can be extended along the time axis. In order to append multiple <i>levels</i> (Z axis), the netCDF file must first be created including all of its vertical levels (the levels initially are filled with a missing data flag).</p>
<p align="left">Consider 5 ASCII files, uv.data1 to uv.data5, each defined on the same grid as above but each representing a successive vertical level. Note that the output grid has an axis containing all the Z levels that the file will contain (and that the other Z axes, zaxis1, zaxis2, .. are defined only for the purpose of reading the data in). The following set of commands illustrates how to save these data into a single netCDF data set.</p>
<p align="left">NOTE: <em>It is best to define a fixed-length axis in the "append" direction, as in the example below.  If the axis in that direction is an abstract axis, for instance from a function such as XSEQUENCE or ESEQUENCE, the results will not be appended in Ferret v7.4 and previous versions.</em></p>
<pre>
yes? DEF AXIS/x=1:360:1 xaxis
yes? DEF AXIS/y=1:180:1 yaxis
yes? DEF AXIS/Z=0:100:25/DEPTH zaxis
yes? DEF GRID/X=xaxis/Y=yaxis/Z=zaxis uv_grid
yes? DEF AXIS/Z=0:0:1 zaxis1
yes? DEF GRID/LIKE=uv_grid/Z=zaxis1 uv_grid1
 
yes? FILE/GRID=uv_grid1/BAD=-999/VAR="u,v" uv.data1
yes? LET/TITLE="My U data" u1 = u[G=uv_grid@NRST]
yes? LET/TITLE="My V data" v1 = v[G=uv_grid@NRST]
yes? SAVE/FILE=uv1_5z.cdf/KLIMITS=1:5/K=1 u1, v1
 
yes? CANCEL DATA uv.data1
yes? DEF AXIS/Z=25:25:1 zaxis1
yes? FILE/GRID=uv_grid1/BAD=-999/VAR="u,v" uv.data2
yes? SAVE/FILE=uv1_5z.cdf/K=2/APPEND u1,v1
. . .
yes? CANCEL DATA/ALL ! Cancel definitions before using new file
yes? CANCEL VAR/ALL
yes? USE uv1_5z.cdf</pre><p align="left">The @NRST above ensures that the regridding between the uv_grid and uv_grid1 will always work correctly.  If the coordinate values are not simple integers, our definition of the axis zaxis and the value used to define the axis zaxis1 may not exactly match.  @NRST regridding is needed so that the result will be on our grid uv_grid.</p>
<p align="left">What if the data is in netCDF files to begin with, each file containing a Z level?  Often separate files for different levels do not have a grid in the Z direction, so we'll need to handle that.  Say the files are ocean_lev0m.nc, ocean_lev5m.nc, ocean_lev20m.nc containing data at those three depths.  There might be some attributes in the file that describe the depth, or the information may be just in the dataset name; but there is no z axis.</p>
<pre>
yes? use ocean_lev0m.nc
yes? show data
currently SET data sets:
1&gt; ./ocean_lev0m.nc  (default)
name     title                    I         J         K         L
U        Zonal Current           1:180     1:90      ..       1:12
V        Meridional Current      1:180     1:90      ..       1:12</pre><p>Define the appropriate output Z axis with all of the depths.  Define variables ucur and vcur which are simply the data from the file repeated at each depth.  This uses the concept of "<a href="../variables-xpressions/XPRESSIONS.html#_VPINDEXENTRY_300">conformability</a>", how variables with unlike grids may be combined. Define the new variable that has a Z axis from that newly named file variable, and set the attributes for the new variable  to be inherited from the file variable.</p>
<pre align="left">
yes? define axis/z/depth/units=meters zdepth = {0,5,20}
 
yes? use ocean_lev0m.nc
yes? sh dat
 
yes? let ucur = u + 0*z[gz=zdepth]
yes? set attributes/like=u ucur
yes? save/clobber/file=ocean_data.nc/klimits=1:3/k=1 ucur
 
! Define and save v.
! The first SAVE for each variable needs /KLIMITS
 
yes? let vcur = v + 0*z[gz=zdepth]
yes? set attributes/like=v vcur
yes? save/append/file=ocean_data.nc/klimits=1:3/k=1 vcur
 
yes? cancel data ocean_lev0m.nc
 
! The definitions for ucur and vcur remain and apply to the
! current default dataset as we open each one.
 
yes? use ocean_lev5m.nc
yes? save/append/file=ocean_data.nc/k=2 ucur
yes? save/append/file=ocean_data.nc/k=2 vcur
 
yes? cancel data ocean_lev5m.nc
 
yes? use ocean_lev20m.nc
yes? save/append/file=ocean_data.nc/k=3 ucur
yes? save/append/file=ocean_data.nc/k=3 vcur
 
yes? cancel data/all
yes? cancel variables/all
 
yes? use ocean_data.nc
yes? show data
 
currently SET data sets:
1&gt; ./ocean_data.nc  (default)
name     title                             I         J         K         L
UCUR     zonal current                    1:180     1:90      1:3       1:12
VCUR     meridional current               1:180     1:90      1:3       1:12
 
yes? show grid ucur
GRID GLO1
name       axis              # pts   start                end                 subset
XAX_SUBSET LONGITUDE         180mr   20.5E                18.5E(378.5)        full
YAX_SUBSET LATITUDE           90 r   89.5S                88.5N               full
ZDEPTH    DEPTH (m)            3 i-  0                    20                  full
TIME      TIME                12mr   16-JAN 06:00         16-DEC 01:20        full
</pre><p align="left"> </p>
<p align="left"><b><a name="_VPINDEXENTRY_1071" id="_VPINDEXENTRY_1071"></a></b><b>Example 6‚ another with multiple slabs</b></p>
<p align="left">Here we define a variable at each X location of an existing variable, and write them, appending them to a netCDF file. The expression uses the @MAX transformation in the X direction, so the result has no x axis. We'll define a new one-point x axis at each point.<br />
 </p>
<pre>
<b>yes? USE levitus_climatology
 
! Define a variable containing the xaxis locations
yes? LET lon = x[gx=temp]
 
! Define the variable at the first X, put it on a one-point X axis,
! and then onto the full x axis of the variable.
 
yes? DEFINE AXIS/X/UNITS="`temp,return=xunits`" xout = `lon[i=1]`
yes? SHOW AXIS xout
name axis # pts start end
XOUT LONGITUDE 1mr 20.5E 20.5E
Axis span (to cell edges) = 1 (modulo length = 360)
 
yes? LET mtmp1 = temp[X=`lon[i=1]`:300@MAX] + 0*x[GX=xout]
!-&gt; DEFINE VARIABLE mtmp1 = temp[X=20.5:300@MAX] + 0*x[GX=xout]
 
! see its grid has a single-point x axis
yes? SHOW GRID mtmp1 
GRID (G003)
name axis # pts start end
XOUT LONGITUDE 1mr 20.5E 20.5E
YAXLEVITR LATITUDE 180 r 89.5S 89.5N
ZAXLEVITR DEPTH (m) 20 i- 0 5000
normal T
 
! put the variable onto the full X grid.
 
yes? LET mtmp = mtmp1[GX=temp]
</b>
<b><b> ! This is the result at the first location saved to the full x axis.
! Write out the first x value, and use /ILIMITS to set up the full 
! range in x that we'll be writing to the file</b></b>
 
<b>yes? SAVE/CLOBBER/FILE=mout.nc/ILIMITS=1:90/I=1 mtmp
 
! Now do the same for each other X location. The variable
</b><b><b> ! at each X-step needs its own one-point x axis.</b></b>
<b>yes? PAUSE
 
yes? REPEAT/RANGE=2:30/NAME=inx (LET xstart = lon[I=`inx`];\
DEFINE AXIS/X/UNITS="`temp,RETURN=xunits`" xout = `xstart`;\
LET mtmp1 = temp[X=`xstart`:300@MAX] + 0*x[GX=xout];\
LET mtmp = mtmp1[GX=temp@ave];\
SAVE/APPEND/FILE=mout.nc/i=`inx` mtmp)
 
</b></pre><p align="left"> </p>
<p align="left"><a name="_VPINDEXENTRY_1072" id="_VPINDEXENTRY_1072"></a><a name="_VPINDEXENTRY_1073" id="_VPINDEXENTRY_1073"></a><a name="_VPINDEXENTRY_1074" id="_VPINDEXENTRY_1074"></a>The netCDF utilities "ncdump" and "ncgen" can also be combined with a text editor to make final refinements to the netCDF files created by SAVE. (These utilities can be obtained from <a href="https://www.unidata.ucar.edu/">https://www.unidata.ucar.edu/</a>. Here is a simple example that removes all "history" attributes from a netCDF file using pipes and the Unix "grep" utility:</p>
<pre>
% ncdump old_file.cdf | grep -v history | ncgen -o new_file.cdf
</pre>
<p>In addition, the toolset "NetCDF Operator", or NCO, contains a number of operators for manipulating netCDF files. This software can be found at <a href="https://nco.sourceforge.net/">https://nco.sourceforge.net/</a></p>


<p> </p>
</div>
</div>
</div>

</div>

<div class="clearfix">
<nav class="links node-links clearfix"></nav>

</div>
</article>
</div>
</div>
</div>      </div>
</div>  </div>
</div></section>    
 
<footer id="section-footer" class="section section-footer">

  <div id="zone-footer-wrapper" class="zone-wrapper zone-footer-wrapper clearfix">  
  <div id="zone-footer" class="zone zone-footer clearfix container-12">
    <div class="grid-8 region region-footer-first" id="region-footer-first">
  <div class="region-inner region-footer-first-inner">
    <div class="block block-block block-1 block-block-1 odd block-without-title" id="block-block-1">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-block block-2 block-block-2 even block-without-title" id="block-block-2">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-menu block-menu-footer-first-menu block-menu-menu-footer-first-menu odd block-without-title" id="block-menu-menu-footer-first-menu">

  </div>
</div>  </div>
</div><div class="grid-4 region region-footer-second" id="region-footer-second">
  <div class="region-inner region-footer-second-inner">
    <div class="block block-menu block-menu-footer-second-menu block-menu-menu-footer-second-menu odd block-without-title" id="block-menu-menu-footer-second-menu">
  <div class="block-inner clearfix">
                
  </div>
</div>  </div>
</div>  </div>
</div></footer>  </div>  <div class="region region-page-bottom" id="region-page-bottom">
  <div class="region-inner region-page-bottom-inner">
      </div>
</div>  <div id="body-bg-bottom"></div>
</body>
</html>
