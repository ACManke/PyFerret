 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML+RDFa 1.1//EN">
<html lang="en" dir="ltr" version="HTML+RDFa 1.1"
xmlns:content="http://purl.org/rss/1.0/modules/content/"
xmlns:dc="http://purl.org/dc/terms/"
xmlns:foaf="http://xmlns.com/foaf/0.1/"
xmlns:og="http://ogp.me/ns#"
xmlns:rdfs="https://www.w3.org/2000/01/rdf-schema#"
xmlns:sioc="http://rdfs.org/sioc/ns#"
xmlns:sioct="http://rdfs.org/sioc/types#"
xmlns:skos="https://www.w3.org/2004/02/skos/core#"
xmlns:xsd="https://www.w3.org/2001/XMLSchema#"
xmlns:schema="http://schema.org/">

<!-- Mirrored from ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/DEFINE by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2023 18:11:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="https://www.w3.org/1999/xhtml/vocab">
<title>DEFINE - Ferret/PyFerret Documentation</title>

<link rel="stylesheet" href="../../../modules/system/system.base.css">
<link rel="stylesheet" href="../../../modules/system/system.menus.css">
<link rel="stylesheet" href="../../../modules/system/system.messages.css">
<link rel="stylesheet" href="../../../modules/system/system.theme.css">

<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.core.min.css">
<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.theme.min.css">
<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.menu.min.css">
<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.autocomplete.min.css">

<link rel="stylesheet" href="../../../sites/all/modules/calendar/css/calendar_multiday.css">
<link rel="stylesheet" href="../../../modules/field/theme/field.css">
<link rel="stylesheet" href="../../../sites/all/modules/scald/modules/fields/mee/css/editor-global.css">
<link rel="stylesheet" href="../../../modules/node/node.css">
<link rel="stylesheet" href="../../../sites/all/modules/scald_file/scald_file.css">
<link rel="stylesheet" href="../../../modules/search/search.css">
<link rel="stylesheet" href="../../../modules/user/user.css">
<link rel="stylesheet" href="../../../sites/all/modules/views/css/views.css">
<link rel="stylesheet" href="../../../sites/all/modules/ckeditor/css/ckeditor.css">

<link rel="stylesheet" href="../../../sites/all/modules/ctools/css/ctools.css">
<link rel="stylesheet" href="../../../sites/all/modules/custom_search/custom_search.css">
<link rel="stylesheet" href="../../../sites/all/modules/search_autocomplete/css/themes/minimal.css">
<link rel="stylesheet" href="../../../sites/all/libraries/superfish/css/superfish.css">
<link rel="stylesheet" href="../../../sites/all/libraries/superfish/css/superfish-smallscreen.css">
<link rel="stylesheet" href="../../../sites/all/libraries/superfish/css/superfish-vertical.css">

<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/ckeditor_custom.css">

<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/alpha-reset.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/alpha-mobile.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/alpha-alpha.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/formalize.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-text.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-branding.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-menu.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-forms.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-visuals.css">
<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/global.css">



<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css">
<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-wide.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/grid/alpha_default/wide/alpha-default-wide-12.css">


</head>
<body class="html not-front not-logged-in page-node page-node- page-node-555 node-type-documentation-page context-documentation">
  <div id="body-bg-top"></div>
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div class="page clearfix" id="page">
      <header id="section-header" class="section section-header">
  <div id="zone-header-wrapper" class="zone-wrapper zone-header-wrapper clearfix">  
  <div id="zone-header" class="zone zone-header clearfix container-12">
    <div class="grid-7 region region-branding" id="region-branding">
  <div class="region-inner region-branding-inner">
        <div class="branding-data clearfix">
            <div class="logo-img">
        <a href="../../../index.html" rel="home" title=""><img src="../../../sites/all/themes/pacific_marine/images/ferret-banner.png" alt="" id="logo" /></a>
		</div>
                </div>
          </div>
</div><div class="grid-5 region region-header-first" id="region-header-first">
  <div class="region-inner region-header-first-inner">
    <div class="block block-block block-4 block-block-4 odd block-without-title" id="block-block-4">
  <div class="block-inner clearfix">

  </div>
</div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-menu-wrapper" class="zone-wrapper zone-menu-wrapper clearfix">  
  <div id="zone-menu" class="zone zone-menu clearfix container-12">
    <div class="grid-12 region region-menu" id="region-menu">
  <div class="region-inner region-menu-inner">
        <div class="block block-system block-menu block-main-menu block-system-main-menu odd block-without-title" id="block-system-main-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu">
	  <li class="first expanded"><a href="../../../index.html">Home</a>
</li>
<li class="leaf"><a href="../../ferret-documentation.html">Documentation</a></li>
<li class="leaf"><a href="../../../faq/ferret-faqs.html">FAQ</a></li>
<li class="collapsed"><a href="../../pyferret/downloads.html">Downloads</a></li>
<li class="collapsed"><a href="../../pyferret-support.html">Support</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div>
  </div>
</div></header> 
<section id="section-content" class="section section-content">
<div id="zone-preface-wrapper" class="zone-wrapper zone-preface-wrapper clearfix">  
<div id="zone-preface" class="zone zone-preface clearfix equal-height-container container-12">
<div class="grid-3 region region-preface-first equal-height-element" id="region-preface-first">
<div class="region-inner region-preface-first-inner">
</div>
</div><div class="grid-9 region region-preface-second equal-height-element" id="region-preface-second">
<div class="region-inner region-preface-second-inner">
</div>
</div>  </div>
</div><div id="zone-content-wrapper" class="zone-wrapper zone-content-wrapper clearfix sidebar">  
<div id="zone-content" class="zone zone-content clearfix equal-height-container container-12">    

        <aside class="grid-3 region region-sidebar-first equal-height-element" id="region-sidebar-first">
  <div class="region-inner region-sidebar-first-inner">
    <div class="block block-superfish block-1 block-superfish-1 odd block-without-title" id="block-superfish-1">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul  id="superfish-1" class="menu sf-menu sf-main-menu sf-vertical sf-style-none sf-total-items-8 sf-parent-items-4 sf-single-items-4"><li id="menu-1620-1" class="first odd sf-item-1 sf-depth-2 sf-no-children"><a href="../../version-763-release-notes.html" class="sf-depth-2">Current Release Notes</a></li>
<li id="menu-1170-1" class="active-trail middle even sf-item-2 sf-depth-2 sf-total-children-17 sf-parent-children-15 sf-single-children-2 menuparent">
<a href="../users-guide.html" class="sf-depth-2 menuparent">Ferret Users Guide</a>

<ul>
<li id="menu-1613-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../full-index/index.html" class="sf-depth-3">Users Guide Index</a></li>
<li id="menu-1154-1" class="middle even sf-item-2 sf-depth-3 sf-total-children-41 sf-parent-children-0 sf-single-children-41 menuparent"><a href="../commands-reference/commands-reference.html" class="sf-depth-3 menuparent">Commands Reference</a>
	  
</li>
<li id="menu-1390-1" class="middle odd sf-item-3 sf-depth-3 sf-total-children-8 sf-parent-children-0 sf-single-children-8 menuparent"><a href="../introduction/introduction.html" class="sf-depth-3 menuparent">1. Introduction</a>
</li>
<li id="menu-1391-1" class="middle even sf-item-4 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="../data-set-basics/data-set-basics.html" class="sf-depth-3 menuparent">2. Data Set Basics</a>
</li>
<li id="menu-1392-1" class="middle odd sf-item-5 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="../variables-xpressions/variables-xpressions.html" class="sf-depth-3 menuparent">3. Variables &amp; Expressions</a>
	</li>
<li id="menu-1393-1" class="middle even sf-item-6 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../Grids-Regions/Grids-Regions.html" class="sf-depth-3 menuparent">4. Grids &amp; Regions</a>
</li>
<li id="menu-1394-1" class="middle odd sf-item-7 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="../animations-gif-images/animations-gif-images.html" class="sf-depth-3 menuparent">5. Animations &amp; Gif Images</a>
</li>
<li id="menu-1395-1" class="middle even sf-item-8 sf-depth-3 sf-total-children-12 sf-parent-children-0 sf-single-children-12 menuparent"><a href="../customizing-plots/customizing-plots.html" class="sf-depth-3 menuparent">6. Customizing Plots</a>
</li>
<li id="menu-1396-1" class="middle odd sf-item-9 sf-depth-3 sf-total-children-11 sf-parent-children-0 sf-single-children-11 menuparent"><a href="../handling-string-data-symbols/handling-string-data-symbols.html" class="sf-depth-3 menuparent">7. Handling String Data Symbols</a>
</li>
<li id="menu-1397-1" class="middle even sf-item-10 sf-depth-3 sf-total-children-10 sf-parent-children-0 sf-single-children-10 menuparent"><a href="../working-with-special-data-sets/working-with-special-data-sets.html" class="sf-depth-3 menuparent">8. Working with Special Data Sets</a>
</li>
<li id="menu-1398-1" class="middle odd sf-item-11 sf-depth-3 sf-total-children-7 sf-parent-children-0 sf-single-children-7 menuparent"><a href="../computing-environment/computing-environment.html" class="sf-depth-3 menuparent">9. Computing Environment</a>
</li>
<li id="menu-1399-1" class="middle even sf-item-12 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../converting-to-netcdf/converting-to-netcdf.html" class="sf-depth-3 menuparent">10. Converting to NetCDF</a>
</li>
<li id="menu-1400-1" class="middle odd sf-item-13 sf-depth-3 sf-total-children-6 sf-parent-children-0 sf-single-children-6 menuparent"><a href="../writing-external-functions/writing-external-functions.html" class="sf-depth-3 menuparent">11. Writing External Functions</a>
</li>
<li id="menu-1166-1" class="active-trail middle even sf-item-14 sf-depth-3 sf-no-children"><a href="../glossary/glossary.html" class="sf-depth-3 active">Glossary</a></li>
<li id="menu-1427-1" class="middle odd sf-item-15 sf-depth-3 sf-total-children-58 sf-parent-children-0 sf-single-children-58 menuparent"><a href="../appendix-a-external-functions/appendix-a-external-functions.html" class="sf-depth-3 menuparent">Appendix A: Functions</a>
</li>
<li id="menu-1168-1" class="middle even sf-item-16 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="../appendix-b-pplus-guide/appendix-b-pplus-guide.html" class="sf-depth-3 menuparent">Appendix B: PPLUS Guide</a>
</li>
<li id="menu-1169-1" class="last odd sf-item-17 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../appendix-c-ferret-specific-pplus-enhancements/appendix-c-ferret-specific-pplus-enhancements.html" class="sf-depth-3 menuparent">Appendix C: Ferret-Specific PPLUS Enhancements</a>
</li>
</ul></li>
<li id="menu-1336-1" class="middle odd sf-item-3 sf-depth-2 sf-no-children"><a href="../../all-release-notes.html" class="sf-depth-2">Previous Release Notes</a></li>
<li id="menu-1339-1" class="middle even sf-item-4 sf-depth-2 sf-total-children-15 sf-parent-children-1 sf-single-children-14 menuparent"><a href="../../ferret-tutorials.html" class="sf-depth-2 menuparent">Tutorials and Demos</a>
<ul>
<li id="menu-1338-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../../demos/ferret-tutorial-script.html" class="sf-depth-3">Ferret Tour</a></li>
<li id="menu-1618-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../demos/dsg-files-discrete-sampling-geometries-demo.html" class="sf-depth-3">DSG files: Discrete Sampling Geometries Demo</a></li>
<li id="menu-1591-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../../demos/ferret-sorting-demo.html" class="sf-depth-4">Ferret sorting demo</a></li>
<li id="menu-1344-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../../demos/how-to-use-ferret-external-functions-for-computing-ffts.html" class="sf-depth-4">Fast Fourier Transforms demo</a></li>
<li id="menu-1345-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../../demos/ferret-eof-demo.html" class="sf-depth-4">Empirical Orthogonal Functions demo</a></li>
<li id="menu-1346-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="../../demos/ferret-objective-analysis.html" class="sf-depth-4">Ferret objective analysis demo</a></li>

<li id="menu-1353-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="../../demos/ferret-palette-demo.html" class="sf-depth-3">Ferret Palette Demo</a></li>
<li id="menu-1350-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="../../demos/ferret-map-projections-demo.html" class="sf-depth-3">Map projections</a></li>
<li id="menu-1354-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="../../demos/ferret-polygon-vector-demo.html" class="sf-depth-3">Ferret polygon vector demo</a></li>
<li id="menu-1355-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="../../demos/ferret-graticules-demo.html" class="sf-depth-3">Ferret Graticules demo</a></li>
<li id="menu-1352-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="../../demos/ferret-polytube-demo.html" class="sf-depth-3">Ferret Polytube Demo</a></li>
<li id="menu-1351-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="../../demos/ferret-polymark-demo.html" class="sf-depth-3">Ferret Polymark Demo</a></li>
<li id="menu-1349-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="../../demos/ferret-constant-array-demo.html" class="sf-depth-3">Ferret Constant-Array demo</a></li>
<li id="menu-1356-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="../../demos/ferret-land_detail-demo.html" class="sf-depth-3">Ferret land_detail demo</a></li>
<li id="menu-1340-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href="../../demos/coads-tour.html" class="sf-depth-3">COADS Tour</a></li>
<li id="menu-1341-1" class="middle odd sf-item-13 sf-depth-3 sf-no-children"><a href="../../demos/levitus-tour.html" class="sf-depth-3">Levitus Tour</a></li>
<li id="menu-1342-1" class="middle even sf-item-14 sf-depth-3 sf-no-children"><a href="../../demos/how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1.html" class="sf-depth-3">Use OPeNDAP</a></li>
<li id="menu-1348-1" class="last odd sf-item-15 sf-depth-3 sf-no-children"><a href="../../demos/ferret-binary-read-demo.html" class="sf-depth-3">Ferret binary read demo</a></li>
</ul></li>
<li id="menu-1333-1" class="middle odd sf-item-5 sf-depth-2 sf-total-children-13 sf-parent-children-1 sf-single-children-12 menuparent"><a href="../../pyferret.html" class="sf-depth-2 menuparent">PyFerret</a>
<ul>
<li id="menu-1426-1" class="first odd sf-item-1 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../../pyferret/downloads.html" class="sf-depth-3 menuparent">PyFerret Downloads and Install</a>
../../faq/ferret-faqs.html</li>
<li id="menu-1359-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../pyferret/what-is-pyferret.html" class="sf-depth-3">What is PyFerret?</a></li>
<li id="menu-1360-1" class="middle odd sf-item-3 sf-depth-3 sf-no-children"><a href="../../pyferret/why-use-pyferret.html" class="sf-depth-3">Why use PyFerret?</a></li>
<li id="menu-1361-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="../../pyferret/example-sessions-ferret.html" class="sf-depth-3">PyFerret for the Ferret user</a></li>
<li id="menu-1362-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="../../pyferret/pyferret-quick-start-notes.html" class="sf-depth-3">PyFerret command syntax: quick-start notes</a></li>
<li id="menu-1364-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="../../pyferret/example-sessions-python.html" class="sf-depth-3">PyFerret for the Python user</a></li>
<li id="menu-1365-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="../../pyferret/graphics.html" class="sf-depth-3">Graphics in PyFerret ?</a></li>
<li id="menu-1366-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="../../pyferret/ferret-functionality.html" class="sf-depth-3">New Ferret functionality</a></li>
<li id="menu-1367-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="../../pyferret/python-functions.html" class="sf-depth-3">PyFerret Python functions and constants</a></li>
<li id="menu-1368-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="../../pyferret/pyferret-python-objects.html" class="sf-depth-3">PyFerret Python objects and methods</a></li>
<li id="menu-1369-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="../../pyferret/pyefs.html" class="sf-depth-3">Ferret external functions in Python</a></li>
<li id="menu-1371-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href="../../pyferret/fortranefs.html" class="sf-depth-3">Ferret Fortran external functions</a></li>
<li id="menu-1373-1" class="last odd sf-item-13 sf-depth-3 sf-no-children"><a href="../../pyferret/data-dictionaries.html" class="sf-depth-3">PyFerret metadata-and-data dictionaries</a></li>
</ul></li>
<li id="menu-1147-1" class="middle even sf-item-6 sf-depth-2 sf-total-children-3 sf-parent-children-0 sf-single-children-3 menuparent"><a href="../../opendap/opendap-usage-in-ferret.html" class="sf-depth-2 menuparent">OPeNDAP</a>
<ul>
<li id="menu-1590-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../../opendap/opendap-usage-in-ferret.html" class="sf-depth-3">OPeNDAP usage in Ferret</a></li>
<li id="menu-1489-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../demos/how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1.html" class="sf-depth-3">Use OPeNDAP Demo</a></li>
<li id="menu-1491-1" class="last odd sf-item-3 sf-depth-3 sf-no-children"><a href="../appendix-a-external-functions/test_opendap.html" class="sf-depth-3">Test OPeNDAP</a></li>
</ul></li>
<!-- <li id="menu-1592-1" class="middle odd sf-item-7 sf-depth-2 sf-no-children"><a href="../../ferret-publications.html" class="sf-depth-2">Ferret Publications</a></li>
<li id="menu-1389-1" class="last even sf-item-8 sf-depth-2 sf-no-children"><a href="../../acknowledging-ferret.html" class="sf-depth-2">Acknowledging Ferret</a></li> -->
</ul>    </div>
  </div>
</div>  </div>
</aside><div class="grid-9 region region-content equal-height-element" id="region-content">
  <div class="region-inner region-content-inner">
<a id="main-content"></a>
<h1 class="title" id="page-title">DEFINE</h1>
<div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
<div class="block-inner clearfix">
 
<div class="content clearfix">
<article about="/Ferret/documentation/users-guide/commands-reference/DEFINE" typeof="sioc:Item foaf:Document" class="node node-documentation-page node-promoted node-published node-not-sticky author-burger odd clearfix" id="node-documentation-page-720">

<!-- add the following line to print out updated date -->
<!-- add the following line to print out the page description -->

<div class="content clearfix">
 
<div class="field field-name-body field-type-text-with-summary field-label-hidden">
<div class="field-items">
<div class="field-item even" property="content:encoded"><p><a name="PartII-Define" id="PartII-Define"></a><a name="_VPID_436" id="_VPID_436"></a></p>
<p class="secHeader"><a name="_VPINDEXENTRY_1295" id="_VPINDEXENTRY_1295"></a><strong>DEFINE </strong></p>
<p align="left">Defines a new alias, region, grid, axis, variable, or viewport.</p>
<p>
<a name="PartII-DEFINE ALIAS" id="PartII-DEFINE ALIAS"></a><a name="_VPID_437" id="_VPID_437"></a><a name="_VPINDEXENTRY_1296" id="_VPINDEXENTRY_1296"></a></p>
<p align="left" class="secHeader"><b>DEFINE ALIAS </b></p>
<p align="left">Defines an alias for a command. "ALIAS" is an alias for DEFINE ALI<a name="_VPINDEXENTRY_1297" id="_VPINDEXENTRY_1297"></a>AS.</p>
<pre>
yes? DEFINE ALIAS NAME COMMAND</pre><p align="left"><b>Example:</b><b> </b></p>
<pre>
yes? DEFINE ALIAS SDF SHOW DATA/FULL</pre><p><a name="_VPID_438" id="_VPID_438"></a><a name="_VPINDEXENTRY_1298" id="_VPINDEXENTRY_1298"></a></p>
<p align="left" class="secHeader"><b>DEFINE ATTRIBUTE </b></p>
<pre>
/DATASET /TYPE /OUTPUT</pre><p align="left">Defines a new attribute for a variable. The variable may be from a netCDF dataset, a user-defined variable, or a variable from another type of dataset. (See the section on access to <a href="../variables-xpressions/VARIABLES.html#_VPINDEXENTRY_attributes" title="3.1 VARIABLES">dataset and variable attributes</a>.)</p>
<pre>
yes? DEFINE ATTRIBUTE[/qualifiers] varname.attname = expression</pre><p align="left"><b>Example: add new attributes with DEFINE ATTRIBUTE </b></p>
<pre>
yes? USE etopo60
yes? DEFINE ATT rose.floatval = 22
yes? DEFINE ATT rose.pp = {1.5, 1.9}
yes? DEFINE ATT/TYPE=string/OUTPUT rose.strval = "some text about ROSE"
 
yes? DEFINE ATT/TYPE=string/OUTPUT rose.str_att = 1234.5
yes? DEFINE ATT/TYPE=int/OUTPUT rose.ipp = {1, 273, 20, 70}</pre><p align="left">/DATASET=n applies the attribute to the variable in the specified dataset.</p>
<p align="left">/TYPE is any of the the NetCDF types STRING, DOUBLE, FLOAT, INT, SHORT, and BYTE. If it is not specified, it is inferred from the expression. (Previous to Ferret v7, only FLOAT and STRING were allowed). If /TYPE=string is given with a numeric value to the right of the equals sign, the output will be converted to to a string type attribute. Lists of strings are not allowed. The default type for numeric attributes is float.</p>
<p align="left">/OUTPUT sets the flag for output so that this attribute will be written when the variable is written to a netCDF file. By default, when an attribute is defined this flag is marked for output. Use CANCEL ATTRIBUTE/OUTPUT to mark an attribute as not-written.</p>
<p><strong>NOTE: </strong>A restriction on defining attributes, is that the special attributes scale_factor and add_offset may be defined in Ferret only for user-defined variables not variables from files.  These attributes affect the reading of data from netCDF files and so are special. If these attributes already exist in a netCDF file, they will automatically be written, if writing, say a subset to a new file. To add these attributes to a variable for writing or to change the values of these attributes, define a new variable</p>
<pre>
yes? use coads_climatology
yes? set var/name=sst_in sst
yes? let/title="SST"/units="Deg C" sst = sst_in
 
yes? define att/output sst.scale_factor = 0.01
yes? define att/output sst.add_offset = 10
yes? set var/bad=-3000/outtype=short sst
 
yes? save/clobber/file=sst.nc/x=0/l=1 sst</pre><p>
<a name="PartII-Define_Axis" id="PartII-Define_Axis"></a><a name="_VPID_439" id="_VPID_439"></a><a name="_VPINDEXENTRY_1299" id="_VPINDEXENTRY_1299"></a><a name="_VPINDEXENTRY_1300" id="_VPINDEXENTRY_1300"></a></p>
<p align="left" class="secHeader"><b>DEFINE AXIS </b></p>
<p align="left">/X/Y/Z/T/E/F /DEPTH /FILE /FROM_DATA /LIKE /MODULO /NAME /NPOINTS /T0 /UNITS /EDGES /CALENDAR /BOUNDS</p>
<p align="left">Defines an axis (axis name up to 16 characters). The syntax is:</p>
<pre>
<i><b>yes? DEFINE AXIS[/qualifiers] axis_name</b></i>
 
<i><b>or 
 
yes? DEFINE AXIS[/qualifiers] axis_name = expr</b></i></pre><p><b>Example: </b></p>
<pre>
<i><b>yes? DEFINE AXIS/X=140E:140W:.2 AX140
 
or 
 
</b></i><i><b>yes? DEFINE AXIS/X myaxis = {1, 5, 15, 35}</b></i></pre><p> </p>
<p align="left"><b><a name="_VPINDEXENTRY_1301" id="_VPINDEXENTRY_1301"></a><a name="_VPINDEXENTRY_1302" id="_VPINDEXENTRY_1302"></a>Note on DEFINE AXIS:</b></p>
<p align="left">Axes which are "in use", because they are used by currently open data sets may be redefined using DEFINE AXIS. (In early versions of Ferret, attempting to redefine an in-use axis generated an error.)</p>
<p align="left">This feature is especially useful to correct the interpretation of erroneous files, or files which exhibit minor incompatibilities with Ferret. Use this feature with caution as it can be used to "fool" Ferret into an incorrect interpretation of a data file.</p>
<p align="left"><b>Command qualifiers for DEFINE AXIS:</b><b> </b></p>
<p align="left"><a name="_VPINDEXENTRY_1303" id="_VPINDEXENTRY_1303"></a>DEFINE AXIS/<b>X=/Y=/Z=/T=/E=/F=</b></p>
<p align="left"><a name="_VPINDEXENTRY_1304" id="_VPINDEXENTRY_1304"></a>Specifies the limits and point spacing of an axis.</p>
<pre>
yes? DEFINE AXIS/X=lo:hi:delta axis_name</pre><p align="left">The limits may be in longitude, latitude, or date format (for X, Y, or T or F axis, respectively) or may be simple numbers. No units are assumed unless units are given explicitly with the /UNITS qualifier.</p>
<p align="left">Use /UNITS=degrees to obtain latitude or longitude axes. The X or Y qualifier determines which orientation "degrees" refers to. If an X axis has units of degrees longitude it is automatically marked as a modulo axis.</p>
<p align="left">For T or F axes, the limits may be dates (dd-mmm-yyyy:hh:mm:ss) or may be time steps. The delta increment is regarded as hours unless the /UNITS qualifier specifies otherwise. Note that time axes may not extend beyond year 9999.  If an F axis has units of time, it is treated as the Forecast axis for a Forecast Model Run Collection. (See documentation by searching for FMRC at the <a href="https://www.unidata.ucar.edu/">Unidata site</a>, for instance.)</p>
<p align="left"><a name="_VPINDEXENTRY_1305" id="_VPINDEXENTRY_1305"></a>If the time limits are given as dates then this axis produces date-formatted output (unless CANCEL MODE CALENDAR is issued). If the time limits are given as time steps then all instances of this axis are labeled with time step values in the units specified with the /UNITS qualifier.</p>
<p align="left"><b><a name="_VPINDEXENTRY_even" id="_VPINDEXENTRY_even"></a>Examples (evenly-spaced axes):</b><b> </b></p>
<pre>
yes? DEFINE AXIS/X=140E:140W:.2 ax140
yes? DEFINE AXIS/Y=15S:25N:.5 axynew
yes? DEFINE AXIS/Z=0:5000:20/UNITS=CM/DEPTH axzcm
yes? DEFINE AXIS/T="7-NOV-1953":"23-AUG-1988:11:00":24 axtlife
yes? DEFINE AXIS/T=0:30:1/t0=1-jan-2010/units=day tday
yes? DEFINE AXIS/T=25:125:5/UNITS=minutes axt5min</pre><p align="left"><a name="_VPINDEXENTRY_1306" id="_VPINDEXENTRY_1306"></a>DEFINE AXIS/<b>CALENDAR= </b></p>
<p align="left">Allows for non-Gregorian calendar axes. The calendars allowed are</p>
<table><tbody><tr><td>
<p align="left"><b>calendar name </b></p>
</td>
<td>
<p align="left"><b>number of days/year</b></p>
</td>
<td>
<p align="left"><b>notes</b></p>
</td>
</tr><tr><td>
<p align="left">GREGORIAN or STANDARD</p>
</td>
<td>
<p align="left">365.2425</p>
</td>
<td>
<p align="left">default calendar: proleptic Gregorian</p>
</td>
</tr><tr><td>
<p align="left">JULIAN</p>
</td>
<td>
<p align="left">365.25</p>
</td>
<td>
<p align="left">with leap years</p>
</td>
</tr><tr><td>
<p align="left">NOLEAP</p>
</td>
<td>
<p align="left">365</p>
</td>
<td>
<p align="left">no leap years</p>
</td>
</tr><tr><td>
<p align="left">ALL_LEAP</p>
</td>
<td>
<p align="left">366</p>
</td>
<td>
<p align="left">366 days every year</p>
</td>
</tr><tr><td>
<p align="left">360_DAY</p>
</td>
<td>
<p align="left">360</p>
</td>
<td>
<p align="left">each month is 30 days</p>
</td>
</tr></tbody></table><p align="left">The calendar definitions conform to the netCDF conventions document for calendars. See the section about calendars in Chapter 4 of the CF document at <a href="http://cfconventions.org/">http://cfconventions.org</a>/. These calendar definitions are compatible with the Udunits standard (see <a href="https://www.unidata.ucar.edu/software/udunits/">https://www.unidata.ucar.edu/software/udunits/</a> ) which has slightly different naming conventions. Also note that the default calendar in Ferret is the proleptic Gregorian calendar, i.e. the definition of a year is consistent throughout time and does not have an offset in the 1500's as the historical calendars did. However, files written using the NOAA/CDC standard for the "blended" Julian/Gregorian calendar are read correctly by Ferret: If a time axis has a time origin of 1-1-1 00:00:00, and uses the default calendar, and if the coordinates of axis lie entirely after the year 1582, then the historical 2-day shift is applied.</p>
<p align="left">The netCDF conventions recommend that the calendar be specified by the attribute time:calendar when there is a non-Gregorian calendar associated with a data set, i.e.</p>
<p align="left">time:calendar=noleap</p>
<p align="left">Ferret reads this attribute from a netCDF file, or gets it from a definition made with DEFINE ATTRIBUTE and assigns the designated calendar to the time axis.</p>
<p align="left"><b>Example: </b></p>
<p align="left">Define a calendar axis and regrid an existing variable to this axis. (Use the continuation character \ to break this long line into two lines.)</p>
<pre>
yes? DEFINE AXIS/CALENDAR=JULIAN/T="15-JAN-1982":"15-DEC-1985":30\
/UNITS=days tmodel yes? LET twind = uwnd[GT=tmodel@NRST]</pre><p align="left">When regridding from one calendar axis to another the length of a year is assumed to be constant, therefore the regridding calculates a scale factor based on the length of a second in each calendar, computed from the number of seconds per year for the calendars.</p>
<p align="left"><a name="_VPINDEXENTRY_1307" id="_VPINDEXENTRY_1307"></a>DEFINE AXIS/<b>DEPTH</b></p>
<p align="left"><a name="_VPINDEXENTRY_1309" id="_VPINDEXENTRY_1309"></a><a name="_VPINDEXENTRY_1308" id="_VPINDEXENTRY_1308"></a>Specifies the Z axis to be a depth, positive downward, axis. A depth axis is indicated by a "(-)" following its title in a SHOW GRID or SHOW AXIS command. Depth axes are notated by "UD" (up-down) in the grid definition file, while normal vertical axes (such as an elevation axis in meteorology) are notated by "DU" (down-up).</p>
<p align="left"><b>Example:</b><b> </b></p>
<pre>
yes? DEFINE AXIS/Z=0:5000:20/DEPTH/UNITS=CM AXZDCM</pre><p align="left"><a name="_VPINDEXENTRY_1310" id="_VPINDEXENTRY_1310"></a>DEFINE AXIS/<b>EDGES</b></p>
<p align="left">The /EDGES qualifier indicates that the coordinates provided refer to the edges or boundaries between grid cells. When /EDGES is used, the coordinates of the grid points will be computed at the midpoints between the indicated edges. When /EDGES is used in conjunction with /FROM_DATA the number of grid points created will be equal to the number of coordinates minus one, since the list of edges includes both the upper and lower edge of the axis. An example of defining an axis by its edges is</p>
<pre>
yes? DEFINE AXIS/Z=0:5010:20/EDGES/DEPTH/UNITS=CM AXZDCM</pre><p align="left"><a name="PartII-DefineTrueMonthly" id="PartII-DefineTrueMonthly"></a><a name="_VPINDEXENTRY_1311" id="_VPINDEXENTRY_1311"></a><a name="_VPINDEXENTRY_1312" id="_VPINDEXENTRY_1312"></a><a name="_VPINDEXENTRY_1313" id="_VPINDEXENTRY_1313"></a><a name="_VPINDEXENTRY_1314" id="_VPINDEXENTRY_1314"></a>A class of especially important uses for the /EDGES qualifier is to create custom calendar axes. This example creates a true monthly axis, with axis cells beginning on the first of each month (on a Gregorian calendar; see the note below):</p>
<pre>
yes? ! Define a 20 year monthly axis starting in Jan 1950
yes? LET start_year = 1950
yes? LET nyears = 20
yes? LET indices = L[L=1:`nyears*12`]
yes? LET month = MOD(indices-1,12)+1
yes? LET year = start_year + INT((indices-1)/12)
yes? DEFINE AXIS/UNITS=days/T0=1-jan-1900/EDGES truemonth = DAYS1900(year,month,1)
 
yes? ! Examine one year of it 
yes? SHOW AXIS/T=1-jan-1958:1-jan-1959 truemonth
name axis # pts start end
TRUEMONTH TIME 239 i 16-JAN-1950 12:00 16-NOV-1969 00:00
T0 = 1-JAN-1900
Axis span (to cell edges) = 7274
L T TBOX TBOXLO TSTEP (DAYS)
96&gt; 16-DEC-1957 12:00:00 31 01-DEC-1957 00:00:00 21168.5
97&gt; 16-JAN-1958 12:00:00 31 01-JAN-1958 00:00:00 21199.5
98&gt; 15-FEB-1958 00:00:00 28 01-FEB-1958 00:00:00 21229
99&gt; 16-MAR-1958 12:00:00 31 01-MAR-1958 00:00:00 21258.5
100&gt; 16-APR-1958 00:00:00 30 01-APR-1958 00:00:00 21289
101&gt; 16-MAY-1958 12:00:00 31 01-MAY-1958 00:00:00 21319.5
102&gt; 16-JUN-1958 00:00:00 30 01-JUN-1958 00:00:00 21350
103&gt; 16-JUL-1958 12:00:00 31 01-JUL-1958 00:00:00 21380.5
104&gt; 16-AUG-1958 12:00:00 31 01-AUG-1958 00:00:00 21411.5
105&gt; 16-SEP-1958 00:00:00 30 01-SEP-1958 00:00:00 21442
106&gt; 16-OCT-1958 12:00:00 31 01-OCT-1958 00:00:00 21472.5
107&gt; 16-NOV-1958 00:00:00 30 01-NOV-1958 00:00:00 21503
108&gt; 16-DEC-1958 12:00:00 31 01-DEC-1958 00:00:00 21533.5
109&gt; 16-JAN-1959 12:00:00 31 01-JAN-1959 00:00:00 21564.5
 
</pre><p><a name="_monthaxis" id="_monthaxis"></a></p>
<p align="left">The example above uses the DAYS1900 function, which returns days according to the default Proleptic Gregorian calendar. For other calendars, there is a script def_monthaxis_days.jnl, a contribution from a user.</p>
<pre style="text-align: left;">
yes? GO/HELP def_monthaxis_days
yes? GO def_monthaxis_days.jnl NOLEAP 2002 2005 mytaxis</pre><p align="left">These could be modified to define, for instance, a seasonal average, by changing the definitions as follows:</p>
<pre>
yes? ! Define a 20 year monthly axis starting in Jan 1950
yes? LET start_year = 1950
yes? LET nyears = 20
yes? LET indices = L[L=1:`nyears*4`]
 
! Starting month of every three month period 1,4,7,10... (centered on 2,5,8,11 Seasons JFM, etc)
 
yes? LET month = MOD(INDICES*3-3,12)+1
yes? LET year = start_year + INT((indices-1)/4)
yes? DEFINE AXIS/UNITS=days/T0=1-jan-1900/EDGES three_month_axis = DAYS1900(year,month,1)
 
! Now try it with LET month = MOD(INDICES*3-3,12)+2  for 3-month intervals FMA, etc</pre><p> </p>
<p align="left">The following example shows the computation of a custom climatological average. Given, for example, a multi-year time series of a daily measured variable, the climatological average of the variable for two unequal time periods could be computed by creating an axis with two points, using the FROM_DATA qualifier. The grid cells for these two points would extend from 15-Mar to 27-May (about 73 days), and from 27-May to 15-Mar (about 292 days). The actual dates on which the 2 points are located would be the midpoints of these two intervals, on 20-Apr and 20-Oct.</p>
<pre>
yes? DEFINE AXIS/t=1-jan-0001:1-jan-0002:1/unit=days/t0=1-jan-0000 tencoding
yes? LET tstep = t[gt=tencoding]
yes? LET start_date = tstep[t=15-mar-0001]
yes? LET end_date = tstep[t=27-may-0001]
yes? DEFINE AXIS/T/UNITS=days/T0=1-jan-0000/EDGES/MODULO \
tax={`start_date,p=7`,`end_date,p=7`,`start_date+365.2425,p=7`}
 
yes? DEFINE GRID/T=tax taxgrid
yes? SHOW/L=1:2 grid taxgrid
GRID TAXGRID
name axis # pts start end
normal X
normal Y
normal Z
TAX TIME 2mi 20-APR 12:00 20-OCT 02:54
L T BOX_SIZE TIME_STEP (DAYS)
1&gt; 20-APR 12:00:00 73 475.5
2&gt; 20-OCT 02:54:35 292.2425 658.1212</pre><p align="left"> </p>
<p align="left"><a name="_VPINDEXENTRY_1315" id="_VPINDEXENTRY_1315"></a>DEFINE AXIS<strong>/BOUNDS</strong></p>
<p align="left">Define an axis from lists of coordinates and bounds. (See the discussion of <a href="../data-set-basics/NETCDF-DATA.html#_netcdf_bounds">netCDF bounds</a>.) The specificaion may be either in terms of 2*N bounds or N+1 edges. For 2*N bounds the upper bound of each cell must be the same as the lower bound of the next cell.The coordinates must be inside (or may coincide with) the cell bounds. (Spaces are used here to clarify the pairs of bounds, but are not necessary and do not affect the way the data is read.)</p>
<p align="left"><b>DEFINE AXIS/X/BOUNDS axisname = coordinates, bounds </b></p>
<p align="left"><b>Examples: </b></p>
<p align="left">First, a 2*N bounds definition and then an N+1 one. Note that the second definition has the coordinate z=0 at the same location as the edge of the first grid cell.</p>
<pre>
yes? DEF AXIS/X/BOUNDS xax = {1,2,5,6}, {0.5,1.5, 1.5,2.5, 2.5,5.5, 5.5,6.5}
 
yes? LET a = {0,20,50,75,120}
yes? LET b = {0,10,30,60,90,150}
yes? DEF AXIS/Z/DEPTH/BOUNDS zax = a, b</pre><p align="left"><a name="_VPINDEXENTRY_1316" id="_VPINDEXENTRY_1316"></a>DEFINE AXIS/<b>FILE=</b></p>
<p align="left">Reads a gridfile for grid and axis definitions. The gridfile specified should be in the standard TMAP gridfile format. There are several documents in $FER_DIR/doc regarding gridfiles and TMAP format (e.g., "about_grid_files.txt").</p>
<pre>
yes? DEFINE AXIS/FILE=grid_file.grd</pre><p align="left"><a name="_VPINDEXENTRY_1317" id="_VPINDEXENTRY_1317"></a>DEFINE AXIS/<b>FROM_DATA</b></p>
<p align="left">Used only in conjunction with /NAME to define an axis from any expression that Ferret can evaluate.</p>
<pre>
yes? DEFINE AXIS/FROM_DATA/NAME=axis_name expr</pre><p align="left">(This is a mechanism to convert dependent variables into independent axis data.)</p>
<p align="left">When defining an axis from a LET-defined variable or expression the condensed syntax (e.g.)</p>
<pre>
yes? DEFINE AXIS/X axname=expression</pre><p align="left">replaces the older (still supported) syntax</p>
<pre>
yes? DEFINE AXIS/X/NAME=axname/FROM_DATA expression</pre><p align="left">Note that the values from which the axis is to be created must be in<b> strictly increasing order</b>. If the coordinates are repeated, Ferret will "micro-adjust" the values by adding multiples of 1 millionth of the axis range to the repeated values. Ferret will issue an informative message if it is micro-adjusting an axis.</p>
<p align="left"><a name="_VPINDEXENTRY_uneven" id="_VPINDEXENTRY_uneven"></a><b>Example (unevenly-spaced axes):</b><b> </b></p>
<pre>
yes? DEFINE AXIS/X my_xaxis=pos[D=2]^0.5
yes? DEFINE AXIS/Z/DEPTH/UNITS=meters  zdepth={0,10,20,50,100,270}
</pre><p align="left">The first defines each coordinate of the axis "my_xaxis" as the square root of variable "pos" from data set 2. The second defines the axis from a list of numbers. See also <a href="#_VPINDEXENTRY_1315"> DEFINE AXIS/BOUNDS</a> for syntax to define the cell edges as well as coordinate values.</p>
<p align="left">In Ferret v6.8 and higher, variables and coordinate data are both represented within Ferret as double precision numbers. The next section applies only to versions of Ferret previous to Ferret v6.8:</p>
<p align="left"><a name="PartII_define_from_data" id="PartII_define_from_data"></a><a name="_VPINDEXENTRY_1318" id="_VPINDEXENTRY_1318"></a><a name="_VPINDEXENTRY_1319" id="_VPINDEXENTRY_1319"></a><i><b>Previous to Ferret v6.8:</b></i></p>
<p align="left"><i>Variables in Ferret are always represented as single precision floating-point numbers. Coordinates are represented as double precision values. This presents a quandary when we wish to define an axis, and have double precision data representing the coordinates available as a variable (but not a coordinate variable) in a netCDF file. Once that variable is read by Ferret, it becomes single precision and we lose the precision needed to define the axis. Starting with V6 of Ferret, a means is provided to work around this, in particular for making graphics. We read the data, specifying an offset which is applied when the data is read, and which gives the numbers fewer significant figures, so the variations are represented in single precision. This may be "undone" via a PPLUS command which applies the reverse offset to the coordinates at the time we make a plot.</i></p>
<p align="left"><i>For example, say a variable called XVALS is in a netCDF file, which has data values {144.002, 144.0034, 144.005}. We want to create an axis from these values, and put the variable data_var onto that axis. Once XVALS is converted to single precision we would lose the variation. We can read the locations with the SET VAR/OFFSET command. It is convenient to define a variable to keep the constant offset, as it will be used again.</i></p>
<p align="left"><i><b>Example: </b></i></p>
<pre>
<i>yes? SET DATA filename.nc
yes? LET xlon = 144
yes? SET VAR/OFFSET=`-1*xlon` xvals
 
yes? ! when the data is read, the offset is added
yes? LIST/NOHEADER xvals
1 / 1: 0.002000
2 / 2: 0.003400
3 / 3: 0.005000
 
yes? ! Define an axis, and put the variable onto this axis...
yes? DEFINE AXIS/X/UNITS=deg xxaxis = xvals
 
yes? LET var = data_var[gx=xxaxis@ASN]
 
yes? ! Add back the offset. This works with any plotting command.
yes? PLOT/SET var
yes? PPL XVALOFF `xlon`
yes? PPL PLOT</i></pre><p align="left"><a id="_DEF_AXIS_LIKE" name="_DEF_AXIS_LIKE"></a>DEFINE AXIS/<strong>LIKE</strong>=</p>
<p align="left">(Ferret v7.4) Specifies that the new axis will have the same attributes as an existing defined axis.  </p>
<p align="left">The DEFINE AXIS/LIKE= command must include a direction, /X= /Y= etc. The direction must match the direction of the axis whose attributes we are inheriting.  The coordinates are not inherited; only the attributes, such as units. For time axes the units and time-origin are inherited, as well as the calendar definition (e.g. non-Gregorian calendars such as noleap).  For vertical axes, the positive=up or down attribute is inherited.</p>
<p>If qualifiers such as /UNITS or /CALENDAR are given on the command line those settings supersede the inherited attribute.</p>
<p align="left"><a name="_VPINDEXENTRY_1320" id="_VPINDEXENTRY_1320"></a><a name="_VPINDEXENTRY_1321" id="_VPINDEXENTRY_1321"></a>DEFINE AXIS/<b>MODULO[=len]</b></p>
<p align="left">Specifies that the axis being defined be treated as modulo; that is, the first point will wrap around and follow the last point (e.g., a longitude axis).The optional modulo length is the length in axis units of the modulo repeat. If a length is specified, it may be longer than the axis span, so that the axis is treated as a subspan modulo axis, and if no length is specified then the default modulo length for the type of axis is used. See the sections on <a href="../Grids-Regions/REGIONS.html#Chapter4-Modulo_axes" title="4.3 REGIONS">modulo axes</a> and subspan modulo axes for more information</p>
<p align="left"><a name="_VPINDEXENTRY_1322" id="_VPINDEXENTRY_1322"></a>DEFINE AXIS/<b>NAME=</b></p>
<p align="left">Used only in conjunction with /FROM_DATA to specify the name of the axis to be defined.</p>
<pre>
yes? DEFINE AXIS/FROM_DATA/NAME=axis_name expr</pre><p align="left"><a name="_VPINDEXENTRY_1323" id="_VPINDEXENTRY_1323"></a>DEFINE AXIS<b>/NPOINTS=</b></p>
<p align="left">Specifies the number of coordinate points on the axis being defined.</p>
<pre>
yes? DEFINE AXIS/Z=lo:hi/NPOINTS=n ax_name</pre><p align="left">This qualifier can be used instead of specifying <i><b>Z=lo:hi:delta</b></i>.</p>
<p align="left"><a name="_VPINDEXENTRY_1324" id="_VPINDEXENTRY_1324"></a><a name="_VPINDEXENTRY_1325" id="_VPINDEXENTRY_1325"></a><a name="_VPINDEXENTRY_1326" id="_VPINDEXENTRY_1326"></a>DEFINE AXIS/<b>T0=</b></p>
<p align="left">Specifies the date and time associated with the time step value 0.0, for a T or an F axis.</p>
<p align="left"><b>Example:</b><b> </b></p>
<pre>
DEFINE AXIS/T="1-NOV-1980":"15-AUG-1988":72/T0="1-JAN-1800" TNEW
DEFINE AXIS/F="1-JAN-2001":"15-JAN-2001":1/T0="1-JAN-2010"/UNITS=days FORECAST_TIME
</pre><p align="left"><b>Note:</b> The /T0 qualifier is optional; the underlying time step values are transparent to Ferret users for most purposes. The default value is 15-JAN-1901.</p>
<p align="left"><a name="PartII-Define_Axis/Units" id="PartII-Define_Axis/Units"></a><a name="_VPINDEXENTRY_1327" id="_VPINDEXENTRY_1327"></a><a name="_VPINDEXENTRY_1328" id="_VPINDEXENTRY_1328"></a>DEFINE AXIS/<b>UNITS=</b></p>
<p align="left">Specifies the units of the axis being defined.</p>
<p align="left">A DEFINE AXIS command such as DEFINE AXIS/X=130E:80W:2 xax infers from the formatting of the longitude coordinates the implied qualifier "/UNITS=degrees". Similar for latitudes.</p>
<p align="left"><b>Example:</b><b> </b></p>
<pre>
yes? DEFINE AXIS/Z=0:2000:100/UNITS=CM ZCM</pre><p align="left"><a name="_VPINDEXENTRY_1329" id="_VPINDEXENTRY_1329"></a>Any string (up to 10 characters) is acceptable as a units string, but only the following units are recognized and used when computing axis transformations:</p>
<table><tbody><tr><td> </td>
<td> </td>
<td> </td>
</tr><tr><td>
<p align="LEFT">cm (or centimeter)</p>
</td>
<td>
<p align="LEFT">mm (or millimeter)</p>
</td>
<td>
<p align="LEFT">day</p>
</td>
</tr><tr><td>
<p align="LEFT">km (or kilometer)</p>
</td>
<td>
<p align="LEFT">mb (or millibar)</p>
</td>
<td>
<p align="LEFT">mon</p>
</td>
</tr><tr><td>
<p align="LEFT">m (or meter, or metre)</p>
</td>
<td>
<p align="LEFT">level</p>
</td>
<td>
<p align="LEFT">yr (or year) (default Proleptic Gregorian year)</p>
</td>
</tr><tr><td>
<p align="LEFT">deg (or lat or lon)</p>
</td>
<td>
<p align="LEFT">layer</p>
</td>
<td>
<p align="LEFT"><a name="_VPINDEXENTRY_1267" id="_VPINDEXENTRY_1267"></a>gregorian_year (365.2425 days)</p>
</td>
</tr><tr><td>
<p align="LEFT">ft (or feet or foot)</p>
</td>
<td>
<p align="LEFT">sec</p>
</td>
<td>
<p align="LEFT">year360 (360 days)</p>
</td>
</tr><tr><td>
<p align="LEFT">in</p>
</td>
<td>
<p align="LEFT">min</p>
</td>
<td>
<p align="LEFT">year366 (366 days)</p>
</td>
</tr><tr><td>
<p align="LEFT">mile</p>
</td>
<td>
<p align="LEFT">hour</p>
</td>
<td>
<p align="LEFT">M2 cycles</p>
</td>
</tr><tr><td>
<p align="LEFT">dbar</p>
</td>
<td>
<p align="LEFT">mbar</p>
</td>
<td> </td>
</tr></tbody></table><p align="left"> </p>
<p align="left"> </p>
<p align="left"><b>NOTES:</b></p>
<p align="left"><a name="_VPINDEXENTRY_1330" id="_VPINDEXENTRY_1330"></a><a name="_VPINDEXENTRY_1331" id="_VPINDEXENTRY_1331"></a>1) As of Ferret version 5.1 the definition of the unit "month" has been redefined to be exactly 1/12 of a climatological year. This change applies both to files that use "units=months" and to the DEFINE VARIABLE command. The climatological month is the length of an average month in the Gregorian calendar, including leap years -- 1/12 or 365.2485 days. Thus the command</p>
<pre>
yes? DEFINE AXIS/T0=1-JAN-0000/T=0:12:1/EDGES/units=months/MODULO month_reg</pre><p align="left">defines a climatological monthly axis which does not "drift" over time due to leap years. This non-drift behavior can be observed using a commands like</p>
<pre>
yes? SHOW AXIS /l=1:12001:1200 month_reg</pre><p align="left">which will show every 100th January over 1000 years. To create a monthly Gregorian calendar axis - with axis cells beginning on the first of each month, see the example under <a href="DEFINE.html#PartII-DefineTrueMonthly" title="DEFINE">DEFINE AXIS/EDGES</a> .</p>
<p align="left">2) The units dbar and mbar are recognized by Ferret, however, no automatic conversion is attempted between these and any other units.</p>
<p align="left"><b><a name="_VPINDEXENTRY_1332" id="_VPINDEXENTRY_1332"></a></b><b>TIP:</b><b> </b></p>
<p align="left">Ferret will convert recognized units of length to meters and recognized units of time to seconds during transformations such as integration (@IIN and @DIN) and differentiation (@DDB, @DDC, @DDF) (see "<a href="../variables-xpressions/XPRESSIONS.html#_VPINDEXENTRY_421">General Information about transformations</a>"). Using this characteristic it is always possible to query Ferret about the conversion factors from meters or seconds by integrating a grid cell of width one on an axis of the units in question. For example:</p>
<pre>
yes? ! query conversion factor to meters
yes? define axis/x=0:1:1/edges/units=feet xtest ! 1 point, cell width=1 unit
yes? let vx = 0*X[gx=xtest]+1 ! vx = 1
yes? list/prec=7 vx[x=@din]
0*X[GX=XTEST]+1
X (FEET): 0 to 1 (integrated)
0.3048000
 
yes? ! query conversion factor to seconds
yes? define axis/t=0:1:1/edges/units=month ttest ! 1 point, cell width=1 unit
*** NOTE: /UNIT=MONTHS is ambiguous ... using 1/12 of 365 days.
yes? let vt = 0*T[gt=ttest]+1 ! vt = 1
yes? list/prec=7 vt[t=@din]
0*T[GT=TTEST]+1
T (MONTH): 0 to 1 (integrated)
2628000.</pre><p align="left">2) If an F axis has any of the units of time, Ferret will treat it as the Forecast axis for a Forecast Model Run Collection. (See documentation by searching for FMRC at the <a href="https://www.unidata.ucar.edu/">Unidata site</a>, for instance.)</p>
<p>
<a name="PartII-define grid" id="PartII-define grid"></a><a name="_VPID_440" id="_VPID_440"></a><a name="_VPINDEXENTRY_1333" id="_VPINDEXENTRY_1333"></a><a name="_VPINDEXENTRY_1334" id="_VPINDEXENTRY_1334"></a></p>
<p align="left" class="secHeader"><b>DEFINE GRID </b></p>
<p align="left">/X/Y/Z/T/E/F /FILE /LIKE</p>
<p align="left">Defines a grid (name may be up to 16 characters).</p>
<pre>
yes? DEFINE GRID[/qualifiers] grid_name</pre><p align="left"><b>Example:</b><b> </b></p>
<pre>
yes? DEFINE GRID/LIKE=temp/T=my_t_axis my_grid</pre><p align="left"><b>Command qualifiers for DEFINE GRID:</b><b> </b></p>
<p align="left"><a name="_VPINDEXENTRY_1335" id="_VPINDEXENTRY_1335"></a>DEFINE GRID/<b>X=/Y=/Z=/T=/E=/F=</b></p>
<p align="left">Specifies what particular axis is to be the X, Y, Z, T, E, or F axis for this grid.</p>
<p align="left"> </p>
<pre>
yes? DEFINE GRID/X=axname grid_name</pre><p align="left">The name axname may be the name of an axis, the name of a grid that uses the axis desired, or the name of a variable for which the defining grid uses the axis desired.</p>
<p align="left">For example,</p>
<pre>
yes? DEFINE GRID/X=U gx</pre><p align="left">will create a grid named gx which is one-dimensional—normal to Y, Z, T, E, and F.</p>
<p align="left"><b>Note:</b> Many axes possess an orientation implicit in their units, especially latitude, longitude, and time axes. The effects of using an axis in an inappropriate orientation, such as /X=time_axis, are unpredictable.</p>
<p align="left"><a name="_VPINDEXENTRY_1336" id="_VPINDEXENTRY_1336"></a>DEFINE GRID/<b>FILE=</b></p>
<p align="left">[obsolete: This capability is no longer maintained.]  Reads a gridfile for GRID and AXIS definitions. The gridfile specified should be in the standard TMAP gridfile format. There are several documents in $FER_DIR/doc regarding gridfiles and TMAP format (e.g., about_grid_files.txt).</p>
<p align="left"><b>Example:</b><b> </b></p>
<pre>
yes? DEFINE GRID/FILE=new_grids.grd</pre><p align="left"><a name="_VPINDEXENTRY_1337" id="_VPINDEXENTRY_1337"></a>DEFINE GRID/<b>LIKE=</b></p>
<p align="left">Specifies a particular grid (by name or by reference to a variable defined on that grid) to use as a template to create a new grid.</p>
<pre>
yes? DEFINE GRID/LIKE=grid_or_variable_name grid_name</pre><p align="left">All axes of the grid being created will be identical to the axes of the "LIKE=" grid except those explicitly changed with the /X, /Y, /Z, /T, E, or F qualifiers. The argument may be an expression.</p>
<p align="left"><b>Example:</b><b> </b></p>
<pre>
yes? DEFINE GRID/LIKE=temp[D=2]/Z=ZAX gnew !temp from data set 2</pre><p align="left"><b>Examples: DEFINE GRID</b><b> </b></p>
<p class="indented">1) <i><b>yes? DEFINE AXIS/T="1-JAN-1980":"31-DEC-1983":24 axday<br />
yes? DEFINE GRID/LIKE=temp/T=axday gday</b></i><br />
Define grid gday to be like the defining grid for temp but with a 4-year, daily-interval time axis.<i><b> </b></i></p>
<p class="indented">2) <i><b>yes? DEFINE GRID/LIKE=temp[D=ba022]/T=sst[D=nmc] gnmc3d</b></i><br />
Define grid gnmc3d like temp from data set ba022 but with the same time axis as sst from data set nmc.</p>
<p class="indented">3) <i><b>yes? DEFINE AXIS/X=140E:140W:.2 xnew<br />
yes? DEFINE AXIS/Y=5S:5N:.2 ynew<br />
yes? DEFINE AXIS/T="15-FEB-1982":"15-FEB-1984":48 tnew<br />
yes? DEFINE GRID/X=xnew/Y=ynew/T=tnew gnew</b></i><br />
Define grid gnew from new axes. The grid, gnew, will be normal (perpendicular) to Z.</p>
<p><a name="PartII-Define_Region" id="PartII-Define_Region"></a><a name="_VPID_441" id="_VPID_441"></a><a name="_VPINDEXENTRY_1338" id="_VPINDEXENTRY_1338"></a><b><a name="_VPINDEXENTRY_1339" id="_VPINDEXENTRY_1339"></a></b></p>
<p align="left" class="secHeader"><b>DEFINE REGION </b></p>
<p align="left">/I/J/K/L/M/N /X/Y/Z/T/E/F /DI/DJ/DK/DL/DM/DN /DX/DY/DZ/DT/DE/DF /DEFAULT</p>
<p align="left">Defines or redefines a named region_name (first 4 characters are recognized).</p>
<pre>
yes? DEFINE REGION[/qualifiers] region_name</pre><p align="left">If the qualifier /DEFAULT is not given only those axes explicitly named will be stored. If the qualifier /DEFAULT is given all axes will be stored.</p>
<p align="left"><b>Command qualifiers for DEFINE REGION:</b><b> </b></p>
<p align="left"><a name="_VPINDEXENTRY_1340" id="_VPINDEXENTRY_1340"></a><a name="_VPINDEXENTRY_1341" id="_VPINDEXENTRY_1341"></a>DEFINE REGION/<b>I=/J=/K=</b><b>/L=</b><b>/M=</b><b>/N=</b><b>/X=/Y=/Z=/T=</b><b>/E=</b><b>/F=</b></p>
<p align="left">Specifies region limits ( =lo:hi or =val).</p>
<p align="left"><a name="_VPINDEXENTRY_1342" id="_VPINDEXENTRY_1342"></a><a name="_VPINDEXENTRY_1343" id="_VPINDEXENTRY_1343"></a>DEFINE REGION/<b>DI=/DJ=/DK=</b><b>/DL=</b><b>/DM=</b><b>/DN=</b><b>/DX=/DY=/DZ=/DT=</b><b>/DE=</b><b>/DF=</b></p>
<p align="left">Specifies a change in region relative to the current settings (=lo:hi or =val). See examples below.</p>
<p align="left"> </p>
<p align="left"><a name="_VPINDEXENTRY_1344" id="_VPINDEXENTRY_1344"></a>DEFINE REGION/<b>DEFAULT</b></p>
<p align="left">Saves all axes and transformations, not just those explicitly given. Commonly, a GO script begins with "DEFINE REGION/DEFAULT save" and ends with "SET REGION save".</p>
<p align="left"><b>Examples:</b><b> DEFINE REGION </b></p>
<p class="indented">1) <i><b>yes? DEFINE REGION/DEFAULT save</b></i><br />
Stores the current default region under the name "save". The region may be restored at a later time by the command <i><b>yes? SET REGION save</b></i>.</p>
<p class="indented">2) <i><b>yes? DEFINE REGION/X xonly</b></i><br />
Stores the current default X axis limits, only, as region xonly.</p>
<p class="indented">3) <i><b>yes? DEFINE REGION/DX=-5 xonly</b></i><br />
Stores the current default X axis limits minus 5 as region xonly.</p>
<p class="indented">4) <i><b>yes? DEFINE REGION/Y=20S:20N/Z yanz</b></i><br />
Stores the given limits from the Y axis and the default Z axis limits.</p>
<p class="indented">5) <i><b>yes? DEFINE REGION/DEFAULT/L=5 l5</b></i><br />
Stores the current default region with the modification that L, the time step, is stored as 5.</p>
<p class="indented">6) <i><b>yes? DEFINE REGION/DL=-1:+1 lp2</b></i><br />
Stores an L region beginning 1 time step earlier and ending 1 time step later than the current default region as region lp2.</p>
<p>
<a name="_VPID_442" id="_VPID_442"></a><a name="_VPINDEXENTRY_1345" id="_VPINDEXENTRY_1345"></a><a name="_VPINDEXENTRY_1346" id="_VPINDEXENTRY_1346"></a></p>
<p align="left" class="secHeader"><b>DEFINE SYMBOL </b></p>
<p align="left">Allows the user to define a string variable. Symbol names must begin with a letter and contain only letters, digits, underscores, and dollar signs.</p>
<pre>
yes? DEFINE symbol symbol_name=string</pre><p align="left"><b>Example: </b></p>
<pre>
yes? DEFINE symbol my_x_label = sample number</pre><p>The total number of symbols is limited to 5000; including those defined by DEFINE SYMBOL commands and those automatically defined by Ferret and PPLUS, which are discussed in the section on <a href="../handling-string-data-symbols/SPECIAL-SYMBOLS.html#_VPINDEXENTRY_955" title="2.5 ASCII DATA"> special symbols.</a></p>
<p>
<a name="PartII-Define_Variable" id="PartII-Define_Variable"></a><a name="_VPID_443" id="_VPID_443"></a><a name="_VPINDEXENTRY_1347" id="_VPINDEXENTRY_1347"></a><a name="_VPINDEXENTRY_1348" id="_VPINDEXENTRY_1348"></a><a name="_VPINDEXENTRY_1349" id="_VPINDEXENTRY_1349"></a></p>
<p align="left" class="secHeader"><b>DEFINE VARIABLE </b></p>
<p class="indented">/BAD= /D /LIKE= /TITLE= /UNITS=</p>
<p align="left">Allows the user to define a variable from a valid algebraic expression. <b>Note:</b> LET is an alias for DEFINE VARIABLE.</p>
<pre>
yes? DEFINE VARIABLE[/qualifiers] name=expression</pre><p align="left"><b>Example:</b><b> </b></p>
<pre>
yes? LET SPEED = U^2 + V^2</pre><p align="left"><b>Parameters</b><b> </b></p>
<p align="left">The expression may be any valid expression. See the chapter "Variables and Expressions", section "<a href="../variables-xpressions/XPRESSIONS.html">Expressions</a>" for a definition of valid expressions.</p>
<p align="left"><b><a name="_VPINDEXENTRY_1350" id="_VPINDEXENTRY_1350"></a><a name="_VPINDEXENTRY_1351" id="_VPINDEXENTRY_1351"></a><a name="_VPINDEXENTRY_1352" id="_VPINDEXENTRY_1352"></a><a name="_VPINDEXENTRY_1353" id="_VPINDEXENTRY_1353"></a>Variable names </b></p>
<p align="left">The name specified with DEFINE VARIABLE can be 1 to 128 characters in length—letters, digits, $ and _, beginning with a letter.</p>
<p align="left">Pseudo-variable names (I, J, K, L, _M, _N, X, Y, Z, T, _E, _F, XBOX, YBOX, ZBOX, TBOX, etc) and operators (AND, OR, GT, GE, LT, LE, EQ, NE) are reserved and cannot be used. See the <a href="../../../faq/reserved-keywords.html">FAQ about Reserved Keywords</a> for tips on handling datasets which use reserved words as variable names. It is not recommended to use function names such as SIN, EXP, LN or Ferret operators and keywords like PLOT or AXIS as variable names. See the chapter "<a href="../variables-xpressions/variables-xpressions.html">Variables and Expressions</a>" for recognized operators and functions, or use the commands SHOW COMMAND and SHOW FUNCTION for a list of all commands and functions. The name that you give to the variable is in general not treated in a case-sensitive way. If you define for instance, variables named TEMP and Temp, both in the same Ferret session, the second definition will supersede any previous definitions. The only detail of case-sensitivity that is implemented is that on saving variables to a NetCDF file, the original upper- or lower-case spelling of the variable name will be retained.</p>
<p align="left">If the name defined is the same as a variable name in a data set, the user-defined variable is used instead of the file variable.</p>
<p align="left"><b>Examples:</b><b> </b></p>
<pre>
yes? DEFINE VARIABLE sum = a+b   ! or equivalently
yes? LET sum = a+b
 
yee? ! Define velocity in m/sec from position, pos, in cm.
yes? LET/TITLE="velocity"/UNIT="m/sec" pos[T=@DDC]*0.01
</pre><p>use of the $ character invariables names is legal but is not recommended as any variable names containing $ must be referred to in quotes, e.g.</p>
<pre>
yes? LET A$B = 7 
yes? list 'A$B'</pre><p align="left"><b>Command qualifiers for DEFINE VARIABLE:</b><b> </b></p>
<p align="left"><a name="_VPINDEXENTRY_1354" id="_VPINDEXENTRY_1354"></a>DEFINE VARIABLE/<b>BAD=value</b></p>
<p align="left">Allows user to control the missing value of user-defined variables The specified value will be used whenever the variable is LISTed (or SAVEd) to a file. Note that the missing value will revert to its default (-1E34) when this variable is combined in further calculations.</p>
<p align="left"><b>Example: </b></p>
<pre>
yes? let/bad=3 gap_3 = I[I=1:5]
yes? list gap_3
I[I=1:5]
1 / 1: 1.000
2 / 2: 2.000
3 / 3: ....
4 / 4: 4.000
5 / 5: 5.000
yes? let new_var = gap_3 + 5
yes? list new_var
GAP_3 + 5
1 / 1: 6.00
2 / 2: 7.00
3 / 3: ....
4 / 4: 9.00
5 / 5: 10.00
yes? list/form=(1PG15.3) new_var
GAP_3 + 5
X: 0.5 to 5.5
6.00 
7.00 
-1.000E+34
9.00 
10.0</pre><p align="left"><a id="_LET_LIKE" name="_LET_LIKE"></a>DEFINE VARIABLE/<b>LIKE=var</b><br />
(Ferret v7.4) When the variable is defined, it inherits the attributes from an existing variable. This existing variable may be a file variable or a user-defined variable.  The new variable will have attributes such as units and title automatically defined from the existing one. The exception is the missing-value attribute. This will not be inherited but will be the default bad-value of -1.e34 or will be set by a /BAD= qualifier.</p>
<p align="left">In addition if the source variable is a file variable, then any or scale_factor or add_offset attributes will NOT be inherited.</p>
<p align="left"><strong>Examples:</strong></p>
<pre>
! Define a surface temperature from an ocean temperature variable. The units
! of "deg C" and the title of "Temperature" are automatically given to sst.
 
yes? use ocean_temp_data
yes? let/like=temperature sst = temperature[z=0:5@MAX]
yes? list sst[x=300,y=-20]
VARIABLE : Temperature (deg C)
...
 
! To use a different title, simply specify that on the command line.
 
yes? let/like=temperature/title="Surface Temperature" sst = temperature[z=0:5@MAX]
yes? list sst[x=300,y=-20]
VARIABLE : Surface Temperature (deg C)
...</pre><p align="left"> </p>
<p align="left"><a name="_VPINDEXENTRY_1355" id="_VPINDEXENTRY_1355"></a>DEFINE VARIABLE/<b>D=dataset</b></p>
<p align="left">Restricts the scope of the variable name to the named data set. See further discussion in the chapter "Variables and Expressions", section "<a href="../variables-xpressions/DEFINING-NEW-VARIABLES.html" title="3.4 DEFINING NEW VARIABLES">Defining New Variables</a>".</p>
<p align="left">The qualifier "DATASET=" (LET/DATASET=...) allows you detailed control over the multiple use of the same name.</p>
<p align="left"><b>If the name or number of a data set is supplied </b>then the /dataset qualifier indicates that this variable name is to be defined only in the specified data set. For example</p>
<pre>
yes? LET/dataset=coads_climatology V_geostrophic = SLP[X=@DDC]/(F*RHO)</pre><p align="left">Defines V_geostrophic only in data set coads_climatology. In other data sets the name V_geostrophic may refer to file variables or it may be given different definitions or it may be undefined. The data set may be specified either by name as in this example or by number as shown by SHOW DATA. Note that variables defined using LET/dataset=[name_or_number] will be shown in the SHOW DATA output for that data set as well as in SHOW VARIABLES.</p>
<p align="left"><b>If the /dataset qualifier is applied without specifying a data set name</b> then the interpretation is different. In this case the named variable becomes a default definition -- one which applies only if a data-set specific variable of the same name does not exist. For example, if the command</p>
<pre>
yes? LET/DATASET sst = temp[Z=0]</pre><p align="left">is issued then sst[D=levitus_climatology] will evaluate to temp[D=levitus_climatology,Z=0] because the variable sst does not exist in levitus_climatology, but sst[D=coads_climatology] will refer to the file variable name sst within the coads_climatology data set.</p>
<p align="left"><a name="_VPINDEXENTRY_1356" id="_VPINDEXENTRY_1356"></a>LET/D is especially useful for editing data sets because it gives a ready way to distinguish between the pre-edit and post-edit versions of the variable. In this example we edit the data set etopo60, replacing a small rectangle in the Pacific Ocean.</p>
<p align="left"><b>Example: </b></p>
<pre>
! Do not use memory-cached data when editing.
! Always reread the most recent version from the file.
yes? SET MODE STUPID
 
! Save an exact copy of the original data for editing. 
! We will call our edited file "new_etopo.cdf"
yes? SET DATA etopo60
yes? LET/D=etopo60 depth = rose
yes? SET VARIABLE/TITLE="edited etopo depth"/UNITS=meters depth
yes? SAVE/FILE=new_etopo.cdf depth
yes? USE new_etopo.cdf
 
! "rose[d=etopo60]" is the original.
! "depth[d=new_etopo]" is the edited version.
! Redefine "depth[d=etopo60]" as a tool for for selective editing.
yes? LET/D=etopo60 depth = rose[D=etopo60]-rose[D=etopo60] + correction
 
! An example edit: replace a small region with the value 500
yes? LET correction = 500
yes? SAVE/APPEND/FILE=new_etopo.cdf depth[D=etopo60,X=180:175w,Y=0:2n]
yes? PLOT/X=160e:160w/Y=1n rose[D=etopo60], depth[D=new_etopo]</pre><p align="left"> </p>
<p align="left"><a name="_VPINDEXENTRY_1357" id="_VPINDEXENTRY_1357"></a>DEFINE VARIABLE/<b>QUIET</b></p>
<p align="left">This qualifier has no effect. In early versions of Ferret it suppressed a message on redefining a variable. This message is no longer issued.</p>
<p align="left"> </p>
<p align="left"><a name="_VPINDEXENTRY_1358" id="_VPINDEXENTRY_1358"></a><a name="_VPINDEXENTRY_1359" id="_VPINDEXENTRY_1359"></a>DEFINE VARIABLE/<b>TITLE=</b></p>
<p align="left">Specifies a title (in quotation marks) for the user-defined variable. This title will be used to label plots and listings. If no title is specified the text of the expression will be used as the title. (See also <a href="SET.html#PartII-Set_variable_title" title="SET">SET VARIABLE/TITLE</a>.)</p>
<p align="left"> </p>
<p align="left"><a name="_VPINDEXENTRY_1360" id="_VPINDEXENTRY_1360"></a>DEFINE VARIABLE/<b>UNITS=</b></p>
<p align="left">Specifies the units (in quotation marks) of the variable being defined. (See command <a href="SET.html#PartII-Set_variable_units" title="SET">SET VARIABLE/UNITS</a>.)</p>
<p> </p>
<p align="left" class="secHeader"><a name="_VPID_444" id="_VPID_444"></a><b><a name="_VPINDEXENTRY_1361" id="_VPINDEXENTRY_1361"></a></b><b><a name="_VPINDEXENTRY_1362" id="_VPINDEXENTRY_1362"></a></b><b>D</b><b>EFINE VIEWPORT </b></p>
<p align="left">/CLIP /ORIGIN /SIZE /TEXT /XLIMITS /YLIMITS/AXES</p>
<p align="left">Defines a new viewport (a sub-rectangle of the graphics window).</p>
<pre>
yes? DEFINE VIEWPORT[/qualifiers] view_name</pre><p align="left">Issuing the command SET VIEWPORT is best thought of as entering "viewport mode." While in viewport mode all previously drawn viewports remain on the screen until explicitly cleared with either SET WINDOW/CLEAR or CANCEL VIEWPORT. If multiple plots are drawn in a single viewport without the use of /OVERLAY the current plot will erase and replace the previous one; the graphics in other viewports will be affected only if the viewports overlap. If viewports overlap the most recently drawn graphics will always lie on top, possibly obscuring what is underneath. By default, the state of "viewport mode" is canceled.</p>
<p align="left">Either a comma or a colon separates the upper and lower limits.</p>
<p align="left"><b>Example:</b><b> </b></p>
<pre>
yes? DEFINE VIEWPORT/XLIMITS=0,.5/YLIMITS=0,.5 LL</pre><p align="left">Defines a viewport that will place graphical output into the lower left quarter of the screen, and names the viewport "LL".</p>
<p align="left"><b>Command qualifiers for DEFINE VIEWPORT.</b><b> </b></p>
<p align="left"><a name="_VPINDEXENTRY_1363" id="_VPINDEXENTRY_1363"></a><a name="_VPINDEXENTRY_1364" id="_VPINDEXENTRY_1364"></a>DEFINE VIEWPORT<b>/XLIMITS=/YLIMITS=</b></p>
<p align="left">Specifies the portion of the full window to be used.</p>
<p align="left"> </p>
<pre>
yes? DEFINE VIEWPORT/XLIMITS=x1,x2/YLIMITS=y1,y2 view_name</pre><p align="left">The values of the limits must be in the range [0,1]; they refer to the portion of the window (of height and length 1) which defines the viewport. Together, /XLIMITS and /YLIMITS replace the CLIP, ORIGIN, and SIZE qualifiers in older Ferret versions.</p>
<p align="left"><a name="PartII-define_viewport_text" id="PartII-define_viewport_text"></a><a name="_VPINDEXENTRY_1365" id="_VPINDEXENTRY_1365"></a>DEFINE VIEWPORT<b>/TEXT=</b></p>
<p align="left">Controls shrinkage (or expansion) of text.</p>
<pre>
yes? DEFINE VIEWPORT/TEXT=n view_name</pre><p align="left">In some cases text appearance may become unacceptable due to viewport size and aspect specifications. A value of 1 produces text of the same size as in the full window; 0 &lt; n &lt; 1 shrinks the text; n &gt; 1 enlarges text. Sensible values go up to about 2. When the qualifier /TEXT is omitted, Ferret computes a text size that is appropriate to the size of the viewport.</p>
<p align="left">Note that /TEXT modifies the prominence of the text through manipulation of axis lengths rather than through direct manipulation of the many text size specifications. A low value of text prominence produces axes that are "long" (as seen with <a href="SHOW.html#_VPID_529">SHOW SYMBOLS</a>, or <a href="../appendix-b-pplus-guide/COMMAND-DESCRIPTION.html#_VPID_700">PPL LIST XAXIS</a>), making the (fixed size) text appear less prominent.</p>
<p align="left"><a name="PartII-define_viewport_axes" id="PartII-define_viewport_axes"></a><a name="_VPINDEXENTRY_1366" id="_VPINDEXENTRY_1366"></a>DEFINE VIEWPORTS/AXES Specifies that user's limits are specifying where the plot axes lie as a fraction of the entire plot window.  Either a comma or a colon separates the upper and lower limits.</p>
<p align="left">DEFINE VIEWPORT/XLIMITS=x1,x2/YLIMITS=y1,y2/AXES view_name</p>
<p align="left"><b>Example 1: </b></p>
<p align="left">These  commands define two viewports, entirely filling the upper two quadrants of the plot window:</p>
<pre>
yes? DEFINE VIEWPORT/AXES/XLIM=0:0.5/YLIM=0.5:1 ulax
yes? DEFINE VIEWPORT/AXES/XLIM=0.5:1/YLIM0=.5:1 urrax
 
yes? set view ulax
yes? shade/nokey/i=1:5/y=1:5 i+j
 
yes? set view urax
yes? shade/nokey/i=1:5/y=1:5 i+j</pre><div class="dnd-atom-wrapper type-image context-sdl_editor_representation" contenteditable="false">
<div class="dnd-drop-wrapper"><!-- scald=179:sdl_editor_representation --><div class='image'><img typeof="foaf:Image" src="../../../sites/default/files/thumbnails/image/view_axes_1_0.png" width="438" height="378" alt="two viewports filling the upper quadrants of the screen" title="DEFINE VIEWPORTS/AXES example 1" /></div><!-- END scald=179 --></div>
<div class="dnd-legend-wrapper" contenteditable="true">
<div class="meta">
<!--copyright=179--><p></p>
<!--END copyright=179--></div>
</div>
</div>
<p align="left">Plot elements that lie outside the axes are still drawn, for instance colorbars, or the labels along plot axes, as seen above. </p>
<p align="left">When a viewport is defined along the lower edge of the window PPLUS will add space automatically to allow for labels which would otherwise be lost. This behavior can be changed using PPL commands to set the plot origin, or the qualifier /NOYADJUST can be added to the plot command to draw the axes at the locations specified in the viewport definition.</p>
<p align="left"> </p>
<p align="left"><b>Example 2: </b></p>
<p align="left">This example shows the effect of the /NOYADJUST qualifier on the plot command. Define two viewports and plot; on the left the Y axis is adjusted automatically, on the right we specify /NOADJUST and the labeling below the plot is not plotted.</p>
<pre>
yes? DEFINE VIEW/AXES/XLIM=0:0.5/YLIM=0:0.5 llax
yes? DEFINE VIEW/AXES/XLIM=0.5:1/YLIM=0:0.5 lrax
yes? SET VIEW llax
yes? PLOT/VS/LINE/I=1:314 i*cos(i/20),i*sin(i/20)
 
yes? SET VIEW lrax
yes? PLOT/VS/LINE/I=1:314/NOYADJUST i*cos(3+i/20),i*sin(3+i/20)</pre><p><a href="../../../sites/default/files/images/documentation/users-guide/user_guide_images/Ref_viewaxes_a.gif"><img alt="Ref_viewaxes_a.gif" class="image-inline" height="172" src="../../../sites/default/files/images/documentation/users-guide/user_guide_images/Ref_viewaxes_a.gif" width="200" /></a></p>
<p align="left"> </p>
<p align="left"><b>Example 3: </b></p>
<p align="left">DEFINE VIEWPORT/AXES can be used to set guide lines on a plot</p>
<pre>
yes? CANCEL VIEW
yes? DEFINE VIEW/AXES allax
 
yes? SET VIEW allax
yes? PLOT/VS/LINE/HLIM=0:1/VLIM=0:1/NOLAB {0.5,0.5,,0,1},{0,1,,0.5,0.5}
yes? PLOT/VS/LINE/OVER/NOLAB {0.25,0.25,,0,1},{0,1,,0.25,0.25}
yes? PLOT/VS/LINE/OVER/NOLAB {0.75,0.75,,0,1},{0,1,,0.75,0.75}
 
yes? LABEL 0.26,0.95,-1,0,.2 @P2@AC&lt;-At 0.25
yes? LABEL 0.76,0.95,-1,0,.2 @P3@AC&lt;-At 0.75
 
yes? DEFINE VIEW /XLIM=0.25:0.75/YLIM=0.25:0.75/TEXT=1/AXES mid
yes? SET VIEW mid
yes? PLOT/VS/HLIM=-1:1/VLIM=-1:1/LINE/I=1:200 cos(i/15),sin(i/15)</pre><p><a href="../../../sites/default/files/images/documentation/users-guide/user_guide_images/Ref_viewaxes_b.gif"><img alt="Ref_viewaxes_b.gif" class="image-inline" src="../../../sites/default/files/images/documentation/users-guide/user_guide_images//Ref_viewaxes_b.gif" style="width: 200px; height: 172px;" /></a></p>
<p> </p>
<p align="left">DEFINE VIEWPORT/<b>CLIP=</b></p>
<p> </p>
<p align="left">This qualifier is obsolete; see XLIMITS= and /YLIMITS= (above). Specifies the location of the upper right corner of the viewport.</p>
<p align="left">DEFINE VIEWPORT/<b>ORIGIN=</b></p>
<p align="left">This qualifier is obsolete; see /XLIMITS= and /YLIMITS= (above). Specifies the location of the lower left corner of the viewport.</p>
<p align="left">DEFINE VIEWPORT/<b>SIZE=</b></p>
<p align="left">This qualifier is obsolete; see /XLIMITS and /YLIMITS (above). Specifies the scaling factor to use relative to the size of the full window.</p>
<p align="left" class="secHeader">
<a name="_define_data_agg" id="_define_data_agg"></a><b>DEFINE DATA </b></p>
<p align="left"><b>DEFINE DATA/AGGREGATE /T /E /F /U /TITLE /QUIET /HIDE /TAXIS /FAXIS /TOVERLAP</b> name = [list of datsets]</p>
<p align="left">Defines a virtual dataset, aggregating a set of datsets. This command is implemented only in the T, E, and F directions.  In addition DEFINE DATA/U defines a Union aggregation.</p>
<p align="left"><a name="_tseries_alias" id="_tseries_alias"></a><b>TSERIES </b>is an alias for DEFINE DATA/AGGREGATE/T</p>
<p align="left">Define an time series dataset from a set of datasets that represent timesteps or sets of timesteps, containing those variables from the datasets that have identical variable names and grids. This command is in many ways the equivalent of using a <a href="../converting-to-netcdf/CREATING-A-MULTI-FILE-NETCDF-DATA-SET.html" title="10.4 CREATING A MULTI-FILE NETCDF DATA SET">descriptor file</a> or multi-CDF dataset. Each method for creating a virtual dataset has advantages. Multi-file datasets will initialize more quickly than making an aggregation definition, as the "DEFINE DATA" step needs to initialize all of the member datasets to determine the time axis, but in a multi-CDF dataset, that information is read from the descriptor file. With a TSERIES aggregation, however, the correct axis bounds are applied, and missing time steps are handled by filling the data for those time steps with missing-value flags. Also a TSERIES aggregation is more flexible, making a time series of the time-step datasets which are currently available.</p>
<p align="left"><a name="_ensemble_alias" id="_ensemble_alias"></a><b>ENSEMBLE </b>is an alias for DEFINE DATA/AGGREGATE/E</p>
<p align="left">Define an ensemble dataset from a set of datasets, containing those variables from the datasets that have identical variable names and grids.</p>
<p align="left"><b>FMRC </b>is an alias for DEFINE DATA/AGGREGATE/F</p>
<p>Define a forecast/time dataset (FMRC, for Forecast Model Run Collection), from a set of individual forecast datasets run for a set of times; containing those variables from the datasets that have identical variable names and grids.</p>
<p><b>UNION </b>is an alias for DEFINE DATA/AGGREGATE/U</p>
<p>Define a Union aggregation, from a set of files that contain different variables on a common grid.</p>
<p align="left">DEFINE DATA is valid only with /AGGREGATE. It specifies that we are defining a virtual dataset by aggregation.</p>
<p align="left">The syntax "use my_definition.agg" will run a Ferret script containing an aggregation definition, as a convenience.  The users is responsible for the contents of the script; all that is happening is that Ferret translates "use " to "go " when the file extension is ".agg".</p>
<p align="left">The extension .agg may be left off; it is added to the file extensions for datasets that are handled automatically, and the dataset directories will be searched for the .agg file.</p>
<p align="left"> </p>
<p align="left"><a name="_define_data_agg_t" id="_define_data_agg_t"></a>DEFINE DATA<b>/T</b></p>
<p align="left">Define the aggregate in the T direction. The variables in the member datsets must have a T axis with the same time units. The time origins do not need to match. Ferret computes correct common time steps for the aggregated time axis. The DEFINE DATA command will define a time axis, and the variables which are common to all of the member datasets will be listed on this time axis. Any variables without a time axis in member datasets will be included in the aggregated dataset.  The list of datasets need not be ordered in time; Ferret will reorder the members in time.</p>
<p align="left">If the list of files comes from a string variable, or from a spawn command, the list does not need to be ordered by time. Ferret will order the members of the files in time.</p>
<p align="left"><i><b>NOTE:</b></i> For time aggregations, we are aggregating netCDF files or URL's, not Ferret datasets. The list of datasets must be the file names with path, or the url's, not Ferret dataset numbers.</p>
<p align="left"> </p>
<p align="left"><a name="_define_data_agg_e" id="_define_data_agg_e"></a>DEFINE DATA<b>/E</b></p>
<p align="left">Define the aggregate in the E direction. The variables in the member datsets must not have an E axis. The DEFINE DATA command will define an abstract E axis, and the members of the aggregation will be listed on this axis in the order they are given on the command line.</p>
<p align="left">For ensembles defined on the fly, a variable is defined along the E axis which contain the dataset names.  Variables containing global attributes are also promoted, so for instance an attribute with the model_name becomes a variable in the virtual dataset. These variables promoted from the ensemble members are created in versions 7.42 and higher. See <a href="#_define_data_agg_ens">examples below</a>.</p>
<p align="left">If you save data on an ensemble axis to a file, the Time axis in the saved file is saved as a fixed time axis, not (as is usually the default) an unlimited-coordinates axis that could be appended to.  In order to append in time, the file will need to be created on the first write to it, with a /LLIMITS command defining the full time length to be written using any subsequent /SAVE/APPEND commands.  (See LIST/LLIMITS /MLIMITS and LIST/RIGID for more information.)</p>
<p align="left"> </p>
<p align="left"><a name="_define_data_agg_f" id="_define_data_agg_f"></a>DEFINE DATA<b>/F</b></p>
<p align="left">Define the aggregate in the F direction. The variables in the member datsets must not have an F axis. The DEFINE DATA/AGG/F command will define a 2-dimensional Time/Forecast coordinate variable, which it names TF_TIMES. For more about working with these datasets, see the secion about <a href="../Grids-Regions/GRIDS.html#_4.2.7" title="4.2 GRIDS">FMRC datasets</a> in Chapter 4.</p>
<p align="left">If you save data on an F axis to a file, the Time axis in the saved file is saved as a fixed time axis, not (as is usually the default).  In order to append in time, the file will need to be created on the first write to it, with a /LLIMITS command defining the full time length to be written using any subsequent /SAVE/APPEND commands. (See LIST/LLIMITS /MLIMITS and LIST/RIGID for more information.)</p>
<p align="left"> </p>
<p align="left"><a name="_define_data_agg_u" id="_define_data_agg_u"></a>DEFINE DATA<b>/U</b></p>
<p align="left">Define a Union aggregation. Variables in the member datsets must be on the same grid.</p>
<p align="left"> </p>
<p align="left"><a name="_define_data_agg_title" id="_define_data_agg_title"></a>DEFINE DATA<b>/TITLE</b></p>
<p align="left">Set an optional title for the new dataset, which appears on plots and listings as the dataset title.</p>
<p align="left"> </p>
<p><a name="_define_data_agg_quiet" id="_define_data_agg_quiet"></a>DEFINE DATA<b>/QUIET</b></p>
<p>Suppresses warning messages about variables in the member datasets which do not share grids or are not present in all member datsets.</p>
<p> </p>
<p><a name="_define_data_agg_hide" id="_define_data_agg_hide"></a>DEFINE DATA<b>/HIDE</b></p>
<p>Marks the member datasets as "hidden". This means that SHOW DATA commands will not list the member datasets but only the ensemble datasets (and any other datasets that may be open but are not in an ensemble). SHOW DATA/HIDDEN will show all datasets, even ones that are hidden; and SHOW DATA with a dataset number or name will show that dataset, whether or not it is hidden.</p>
<p><a name="_define_data_agg_taxis" id="_define_data_agg_taxis"></a>DEFINE DATA<b>/T/TAXIS=</b></p>
<p>For Time aggregations only, the desired time axis may be pre-defined and passed to the DEFINE DATA command.  The time coordinates in the files are checked against the times in the axis.  The times in the member datasets are sorted, just as they are without /TAXIS=. </p>
<p>Those times that agree exactly are matched with those on the time axis; if there are gaps in the times in the member datasets those gaps are represented by missing-data flags in the aggregation. </p>
<pre>
yes? ! Aggregate these datasets - may have gaps before, after, and 
yes? ! between when viewed along mytax
yes? LET aggfiles = { "member_02.nc", "member_13.nc", "member_24.nc", "member_35.nc"  }
 
yes? DEFINE DATA /AGGREGATE /HIDE /T /TAXIS=mytax  timeagg = aggfiles
*** NOTE: Time axis coordinates matched using @XACT</pre><p>If the timesteps in the member files do not exactly match those on the specified time axis, but the times represented can be found along the axis, they are mapped to the time axis using a binning operation.</p>
<pre>
yes? DEFINE DATA /AGGREGATE /HIDE /T /TAXIS=tax timeagg = aggfiles
*** NOTE: Time axis coordinates matched using @BIN</pre><p>If the timesteps in the member files do not correspond to the defined axis, the files are simply assigned to the axis using an @ASN transformation.  If there are more timesteps in the axis than in the member datasets, missing-data fills in the end of the timeseries.</p>
<pre>
yes? DEFINE DATA /AGGREGATE /HIDE /T /TAXIS=tax2 timeagg = aggfiles
*** NOTE: Time axis coordinates matched using @ASN</pre><p><a name="_define_data_agg_toverlap" id="_define_data_agg_toverlap"></a>DEFINE DATA<b>/T/TAXIS= /TOVERLAP[=max]</b></p>
<p>For time aggregations only, /TOVERLAP may be specified in combination with /TAXIS= to allow timesteps in the member datasets to  overlap.  The timesteps at the start of each member set be used in the aggregation if they overlap timesteps from a previous member. If an argument is given, then the aggregation is defined only if the number of timesteps of overlap is "max".</p>
<pre>
yes? ! Files are ordered in time and overlaps found and noted.
yes? DEFINE DATA /AGG /T /TOVERLAP /TAXIS=aggtime myagg = d2010.nc, d2009.nc, d2011.nc
*** NOTE: Ignored last 1 timesteps of d2009.nc due to overlap with d2010.nc
*** NOTE: Ignored last 3 timesteps of d2010.nc due to overlap with d2011.nc
*** NOTE: Time axis coordinates matched using @XACT
 
yes? ! Only do the aggregation if the overlap is 2 or fewer timesteps. 
yes? DEFINE DATA /AGG /T /TOVERLAP=2 /TAXIS=aggtime@XACT agg2 = d2010.nc, d2009.nc, d2011.nc 
*** NOTE: Ignored last 1 timesteps of d2009.nc due to overlap with d2010.nc 
 **ERROR: error defining aggregate dataset: Excessive (3) overlaps in time axes for d2010.nc and d2011.nc
</pre><p> </p>
<p>The <b>dataset name</b> may be any valid name under Ferret naming syntax.</p>
<p>The <b>list of datasets</b> may be a set of dataset numbers referring to datasets that have already been initialized. Or they may be any valid NetCDF file/path names or OPeNDAP dataset names. The datasets may be listed in a string valued array, or may be specified using the results of a SPAWN command. If the datasets are not currently open, the DEFINE DATA command will open them.</p>
<p>For a TSERIES aggregation, the list of datasets must be the NetCDF file/path names or OPeNDAP dataset names and may NOT be the dataset numbers of datasets that may be open in Ferret.  For time aggregations the list of datasets does not need to be ordered in time; the correct time ordering will be found as the aggregation is created.<br />
 </p>
<p><b>Examples:</b></p>
<pre>
yes? DEFINE DATA/AGGR/E/TITLE="Pacific Ocean model ensemble" PACMOD = 1, 2, 3, 4
yes? ENSEMBLE/TITLE="Pacific Ocean model ensemble" PACMOD = 1, 2, 3, 4 ! equivalent to the above 
 
yes? DEFINE DATA/AGGR/F/TITLE="Climate FMRC" fmrdat = 1,2,3,4,5,6,7,8,9,10
yes? FMRC TITLE="Climate FMRC" fmrdat = 1,2,3,4,5,6,7,8,9,10 ! equivalent to the above
 
</pre><pre>
! Time series aggregations may be specified only using file or URL names 
! or a variable that lists the names
 
yes? define data/agg/t myagg2 = /home/data/tagg_reg_1.nc, /home/data/tagg_reg_2.nc
 
! or
 
yes? let file_list = SPAWN("ls -1 tmp/tagg_set_?.nc") 
yes? TSERIES listAgg = file_list
yes? show data/members listAgg
 
</pre><pre>
yes? USE ens1.nc
yes? USE ens2.nc
yes? USE ens3.nc
yes? DEFINE DATA/AGGR/E/TITLE="3-dataset ensemble" ens3 = 1, 2, 3
 
yes? ENSEMBLE ocean_agg = "http://server1.address/directory/model_A.nc",\
"http://another_server/directory/subdirectory/model_B.nc"</pre><pre>
yes? use run1.nc
yes? use run2.nc
yes? use run3.nc
yes? use run4.nc
yes? FMRC/hide all_runs = 1,2,3,4
 
 
yes? FMRC/hide nmme_2 = SPAWN("cat ($urlfile)")
yes? show data/members
 
yes? show data 5.2  ! lists details of member 2 of datset 5 (the FMRC dataset)
 
</pre><p><b><a name="_define_data_agg_agg" id="_define_data_agg_agg"></a> </b></p>
<pre>
yes? UNION uset = tmp/sst.nc,tmp/uwnd.nc,tmp/vwnd.nc,tmp/airt.nc
 
</pre><p><b>SHOW DATA/MEMBERS agg_set_name</b> will show the aggregation and its members, listing the timesteps of the members for an aggregation in time</p>
<p>Ferret checks that the datasets are open and looks at all of the variables. If the datasets share a variable, it checks that their grids are identical. Units of variables and other attributes are NOT checked. If a variable is not in all datasets, or if grids do not match, it is not included in the dataset. The units of the variable in the first dataset will be used in the aggregated set. Use SET VAR/UNITS, SET VAR/TITLE, etc to reset any units etc. that you wish to change.</p>
<p>The Ferret default missing-data flag is used for the aggregated variables. The missing-data flag for each variable in its source dataset is applied when that variable is read as a member of an ensemble dataset, so these flags do not need to match for variables coming from different datasets.</p>
<p>Aggregations may be aggregated. For instance, a set of TSERIES aggregations may then be aggregated in Ensemble direction; and those combined into a Forecast. Or aggregations in T, E, and/or F may then be combined as a UNION aggregation.</p>
<p> </p>
<p><b><a id="_define_data_agg_ens" name="_define_data_agg_ens"></a> </b></p>
<p align="left"><b>ENSEMBLE Examples:</b></p>
<p align="left">Say that these datasets all share a variable SST, but only the first also contains AIRT.  Note how the ensemble set has just SST of the file variables, and it has variables promoted from the global attributes of the member datasets: The member dataset names, the history attribute, the title attribute, the model title, etc.</p>
<p align="left"><strong>Example 1:</strong></p>
<pre>
yes? USE ens1, ens2, ens3, ens4
 
! list the global attributes of the first dataset
yes? set data 1
yes? show attributes .
attributes for dataset: ./data/ens1.nc
..title = Example datset to be used in aggregations 
..history = FERRET V7.4 (optimized) 16-May-18 
..Conventions = CF-1.6 
..MODEL = modelA 
..NUMBER = 1
 
yes? ENSEMBLE/title="Ensemble of three" threefiles = ens1, ens2, ens3
*** NOTE: Exclude variable from aggregate. Does not appear in all member datasets: AIRT
yes? sh dat
currently SET data sets:
1&gt; ./ens1.nc
name     title                             I         J         K         L         M         N
SST      SST_IN                           1:10      1:9       ...       1:12      ...       ...
AIRT     AIR TEMPERATURE                  1:10      1:9       ...       1:12      ...       ...
 
2&gt; ./ens2.nc
name     title                             I         J         K         L         M         N
SST      SST_IN                           1:10      1:9       ...       1:12      ...       ...
 
3&gt; ./ens3.nc
name     title                             I         J         K         L         M         N
SST      SST_IN                           1:10      1:9       ...       1:12      ...       ...
 
4&gt; ./ens4.nc
name     title                             I         J         K         L         M         N
SST      SST_IN                           1:10      1:9       ...       1:12      ...       ...
5&gt; threefiles  (default)  Ensemble aggregation
name     title                             I         J         K         L         M         N
SST      SST_IN                           1:10      1:9       ...       1:12      1:3       ...
------------------------------
MEMBER_DSET
Member dataset names in Ensembl  ...       ...       ...       ...       1:3       ...
TITLE    Global Att *title* in Ensemble   ...       ...       ...       ...       1:3       ...
HISTORY  Global Att *history* in Ensembl  ...       ...       ...       ...       1:3       ...
CONVENTIONS
Global Att *Conventions* in Ens  ...       ...       ...       ...       1:3       ...
MODEL    Global Att *MODEL* in Ensemble   ...       ...       ...       ...       1:3       ...
NUMBER   Global Att *NUMBER* in Ensemble  ...       ...       ...       ...       1:3       ...
 
yes? list model
VARIABLE : Global Att *MODEL* in Ensemble
DATA SET : Ensemble of three
FILENAME : threefiles
SUBSET   : 3 points (E (realization))
1   / 1:"modelA"
2   / 2:"modelB"
3   / 3:"modelC"
</pre><pre>
yes? cancel data/all
yes? define data/agg/E/hide fourfiles = ens1, ens3, ens2, ens4
*** NOTE: Variable "AIRT" excluded from aggregate: Not found in all member datasets
 
yes? show data/members fourfiles
currently SET data sets:
5&gt; fourfiles  (default)  Ensemble aggregation
name     title                             I         J         K         L         M         N
SST      SST_IN                           1:10      1:9       ...       1:12      1:4       ...
------------------------------
MEMBER_DSET
Member dataset names in Ensembl  ...       ...       ...       ...       1:4       ...
TITLE    Global Att *title* in Ensemble   ...       ...       ...       ...       1:4       ...
HISTORY  Global Att *history* in Ensembl  ...       ...       ...       ...       1:4       ...
CONVENTIONS
Global Att *Conventions* in Ens  ...       ...       ...       ...       1:4       ...
MODEL    Global Att *MODEL* in Ensemble   ...       ...       ...       ...       1:4       ...
NUMBER   Global Att *NUMBER* in Ensemble  ...       ...       ...       ...       1:4       ...
 
Member datasets:
5.1: ./data/ens1.nc
5.2: ./data/ens3.nc
5.3: ./data/ens2.nc
5.4: ./data/ens4.nc
 
 
yes? cancel data fourfiles
 
! Canceling the ensemble closes all of the datasets
yes? show data/hidden
currently SET data sets:
 
</pre><p align="left">If the datasets do not share any variables on matching grids, the ensemble dataset is not created. If one or more datasets cannot be opened, the dataset is not created.</p>
<p align="left"><strong>Example 2:</strong></p>
<pre>
yes? use coads_climatology
yes? use levitus_climatology
 
yes? define data/agg/e/title="two climatologies" clim_e = 1,2
*** NOTE: Exclude variable from aggregate. Does not appear in all member datasets: SST
**ERROR: error defining aggregate dataset: No valid datasets or datasets share no variables.</pre><p>
<a name="_define_data_agg_letd" id="_define_data_agg_letd"></a>To define an ensemble where the variable names or grids do not match, define variables in one or more of the datasets, putting them onto the same grid and ensuring that they have the same name. Use the "DEFINE VARIABLE/DATASET" syntax to define a new variable associated with a particular dataset. Then this variable will be included in the search for matching variables in the member datasets.  NOTE: At least one file must contain each of the variables being aggregated in the ensemble, as a file variable not a LET/D variable.  See example 4 below.</p>
<p><b>Example 3: </b>Create an ensemble dataset with UWND and VWND from coads_climatology and monthly_navy_winds datasets. In the original files these variables have different grids in X, Y, and T.</p>
<pre>
yes? use coads_climatology
yes? use monthly_navy_winds
yes? sh dat
currently SET data sets:
1&gt; /home/users/tmap/ferret/linux/fer_dsets/data/coads_climatology.cdf
name     title                             I         J         K         L         M         N
SST      SEA SURFACE TEMPERATURE          1:180     1:90      ...       1:12      ...       ...
AIRT     AIR TEMPERATURE                  1:180     1:90      ...       1:12      ...       ...
SPEH     SPECIFIC HUMIDITY                1:180     1:90      ...       1:12      ...       ...
WSPD     WIND SPEED                       1:180     1:90      ...       1:12      ...       ...
UWND     ZONAL WIND                       1:180     1:90      ...       1:12      ...       ...
VWND     MERIDIONAL WIND                  1:180     1:90      ...       1:12      ...       ...
SLP      SEA LEVEL PRESSURE               1:180     1:90      ...       1:12      ...       ...
 
2&gt; /home/users/tmap/ferret/linux/fer_dsets/data/monthly_navy_winds.cdf  (default)
name     title                             I         J         K         L         M         N
UWND     ZONAL WIND                       1:144     1:73      ...       1:132     ...       ...
VWND     MERIDIONAL WIND                  1:144     1:73      ...       1:132     ...       ...
 
</pre><p>Let's put the monthly winds data onto the same climatological time axis and XY grid as coads_climatology. We want to keep the names of the original variables UWND and VWND, so rename the file variables to uwnd_in, vwnd_in in the second dataset.</p>
<pre>
! Rename the file variables, so we can use UWND and VWND for our new variable names.
 
yes? SET VAR/NAME=uwnd_in uwnd[d=2]
yes? SET VAR/NAME=vwnd_in vwnd[d=2]
 
</pre><p>Now define UWND and VWND, regridding them onto axes from coads_climatology. The time axis in dataset 1 is a modulo time axis, so use @MOD regridding.</p>
<pre>
yes? LET/UNITS="M/S"/TITLE="Zonal Wind"/D=2      UWND = uwnd_in[D=2,GXY=uwnd[d=1],GT=uwnd[d=1]@MOD]
yes? LET/UNITS="M/S"/TITLE="Meridional Wind"/D=2 VWND = vwnd_in[D=2,GXY=vwnd[d=1],GT=vwnd[d=1]@MOD]
 
</pre><p>See the variables we defined.</p>
<pre>
yes? SHOW DATA
currently SET data sets:
1&gt; /home/users/tmap/ferret/linux/fer_dsets/data/coads_climatology.cdf
name     title                             I         J         K         L
SST      SEA SURFACE TEMPERATURE          1:180     1:90      ...       1:12
AIRT     AIR TEMPERATURE                  1:180     1:90      ...       1:12
SPEH     SPECIFIC HUMIDITY                1:180     1:90      ...       1:12
WSPD     WIND SPEED                       1:180     1:90      ...       1:12
UWND     ZONAL WIND                       1:180     1:90      ...       1:12
VWND     MERIDIONAL WIND                  1:180     1:90      ...       1:12
SLP      SEA LEVEL PRESSURE               1:180     1:90      ...       1:12
 
2&gt; /home/users/tmap/ferret/linux/fer_dsets/data/monthly_navy_winds.cdf  (default)
name     title                             I         J         K         L         M         N
UWND_IN  ZONAL WIND                       1:144     1:73      ...       1:132     ...       ...
VWND_IN  MERIDIONAL WIND                  1:144     1:73      ...       1:132     ...       ...
------------------------------
VWND[D=monthly_navy_winds] = VWND_IN[D=2,GXY=VWND_IN[D=1],GT=VWND_IN[D=1]@MO]
UWND[D=monthly_navy_winds] = UWND_IN[D=2,GXY=UWND_IN[D=1],GT=UWND_IN[D=1]@MOD]
 
 
</pre><p>The uwnd and vwnd in both datatsets have the same axes.</p>
<pre>
yes? sh grid uwnd[d=1]
GRID GSQ1
name       axis              # pts   start                end
COADSX    LONGITUDE          180mr   21E                  19E(379)
COADSY    LATITUDE            90 r   89S                  89N
normal    Z
TIME      TIME                12mr   16-JAN 06:00         16-DEC 01:20
normal    E
normal    F
 
yes? sh grid uwnd[d=2]
GRID GSQ1
name       axis              # pts   start                end
COADSX    LONGITUDE          180mr   21E                  19E(379)
COADSY    LATITUDE            90 r   89S                  89N
normal    Z
TIME      TIME                12mr   16-JAN 06:00         16-DEC 01:20
normal    E
normal    F
 
</pre><p>Now, we have variables UWND and VWND in both datasets and they have the same grids. We can define an aggregation. (Here's where /QUIET could be used, to supress all these NOTE's.) Because we use /HIDE on the define data command, SHOW DATA lists only the ensemble dataset.</p>
<pre>
! Use ENSEMBLE/QUIET to suppress all of the *** NOTE lines
 
yes? ENSEMBLE/HIDE/TITLE="two winds" windy = 1,2
*** NOTE: Variable "SST" excluded from aggregate: Not found in all member datasets
*** NOTE: Variable "AIRT" excluded from aggregate: Not found in all member datasets
*** NOTE: Variable "SPEH" excluded from aggregate: Not found in all member datasets
*** NOTE: Variable "WSPD" excluded from aggregate: Not found in all member datasets
*** NOTE: Variable "SLP" excluded from aggregate: Not found in all member datasets
 
yes? SHOW DATA
currently SET data sets:
3&gt; WINDY  (default)  Ferret-defined Ensemble dataset
name     title                             I         J         K         L         M         N
UWND     ZONAL WIND                       1:180     1:90      ...       1:12      1:2       ...
VWND     MERIDIONAL WIND                  1:180     1:90      ...       1:12      1:2       ...
------------------------------
MEMBER_DSET
Member dataset names in Ensembl  ...       ...       ...       ...       1:2       ...
HISTORY  Global Att *history* in Ensembl  ...       ...       ...       ...       1:2       ...
 
 
yes? ! To see the member datasets, use SHOW DATA/HIDDEN
</pre><p>Now we have the variables and can work with them in the ensemble dimension.</p>
<pre>
yes? vec/L=3 uwnd[M=@ave], vwnd[M=@ave]</pre><p>If that seems like a lot of work for something we could have done with other Ferret commands, imagine if there were 10 datasets that we want to treat as an ensemble. Most often these will be a set of model runs with variables and grids that already match. Having the E axis along which we can do operations is the key here.</p>
<p> </p>
<p><strong>Example 4:</strong> One file has temperature data on an x-y-z-t grid; the others have surface temperature only.  Define a LET/D variable in file 1, and define the aggregation.  So long as each variable exists as a <strong>FILE variable</strong> (as opposed to a user-defined variable) in at least one member set, we can define the ensemble to include that variable.</p>
<pre>
yes? use a, b, c
yes? show data
currently SET data sets:
1&gt; ./a.nc
name     title                             I         J         K         L
TEMP     Temperature                      1:180     1:90      1:34      1:12
 
2&gt; ./b.nc
name     title                             I         J         K         L
SST      SEA SURFACE TEMPERATURE          1:180     1:90      ...       1:12
 
3&gt; ./c.nc  (default)
name     title                             I         J         K         L
SST      SEA SURFACE TEMPERATURE          1:180     1:90      ...       1:12
 
yes? let/d=1/TITLE="SEA SURFACE TEMPERATURE" sst = temp[K=1]
yes? ENSEMBLE surface_temp = a, b, c
*** NOTE: Variable "TEMP" excluded from aggregate: Not found in all member datasets
yes? SHOW DATA surface_temp
currently SET data sets:
4&gt; surface_temp  (default)  Ensemble aggregation
name     title                             I         J         K         L         M         N
SST      SEA SURFACE TEMPERATURE          1:180     1:90      ...       1:12      1:3       ...
------------------------------
MEMBER_DSET
Member dataset names in Ensembl  ...       ...       ...       ...       1:3       ...
HISTORY  Global Att *history* in Ensembl  ...       ...       ...       ...       1:3       ...
CONVENTIONS
Global Att *Conventions* in Ens  ...       ...       ...       ...       1:3       ...</pre><p> </p>
<p> </p>
<p>For further examples using Ensemble datasets, see the PDFs</p>
<p><a href="../../../sites/default/files/atoms/files/PyFerret_exploring_ensembles.pdf">PyFerret_exploring_ensembles.pdf</a></p>
<p><a href="../../../sites/default/files/atoms/files/PyFerret_ensembles_of_FMRCs.pdf">PyFerret_ensembles_of_FMRCs.pdf</a></p>
<p> </p>
<p><b>TSERIES examples:</b></p>
<pre>
<b>yes? define data/agg/t myagg8 = tmp/reg_1.nc, tmp/reg_2.nc,tmp/reg_3.nc, tmp/reg_4.nc,tmp/reg_5.nc
yes? show data/members
currently SET data sets:
1&gt; myagg5  (default)
name     title                             I         J         K         L         M         N
MYVAR    SIN(T[GT=TDAY]/10) + L[GT=TDAY]  ...       ...       ...       1:50      ...       ...
MYMAP    I[X=0E:0E:5]+ 10*J[Y=80S:80N:5]  1:73      1:33      ...       ...       ...       ...
 
time-dependent data files:
01-JAN-1980 00:00 -&gt; 10-JAN-1980 00:00    tmp/tagg_reg_1.nc
11-JAN-1980 00:00 -&gt; 20-JAN-1980 00:00    tmp/tagg_reg_2.nc
21-JAN-1980 00:00 -&gt; 30-JAN-1980 00:00    tmp/tagg_reg_3.nc
31-JAN-1980 00:00 -&gt; 09-FEB-1980 00:00    tmp/tagg_reg_4.nc
10-FEB-1980 00:00 -&gt; 19-FEB-1980 00:00    tmp/tagg_reg_5.nc
 
</b></pre><p>A common situation is datasets which have one timestep per file. Here, we have daily data, but day 3 is missing:</p>
<pre>
<b>yes? TSERIES single_irreg = tmp/day_1.nc, tmp/</b><b><b>day</b>_2.nc, tmp/</b><b><b><b>day</b></b>_4.nc</b><b>, tmp/</b><b><b><b>day</b></b>_5.nc</b>
<b>yes? show data </b><b>single_irreg
currently SET data sets:
1&gt; single_irreg  (default)
name     title                             I         J         K         L         M         N
MYVAR    SIN(T[GT=TDAY]/10) + L[GT=TDAY]  ...       ...       ...       1:4       ...       ...
 
yes? list myvar
VARIABLE : SIN(T[GT=TDAY]/10) + L[GT=TDAY]/10
FILENAME : single_irreg
SUBSET   : 4 points (TIME)
01-JAN-1980 00 / 1:  0.1179
02-JAN-1980 00 / 2:  0.3177
04-JAN-1980 00 / 3:  0.7126
05-JAN-1980 00 / 4:  0.9059
</b></pre><p>When using a list of files to define the aggregation, the directory listing may not be correctly ordered in time. The time aggregation takes care of finding the correct order.</p>
<pre>
<b>yes? let file_list = SPAWN("ls -1 tmp/step_*.nc")
 
yes? list file_list
VARIABLE : SPAWN("ls -1 tmp/step_*.nc")
SUBSET   : 4 points (X)
1   / 1:"tmp/step_12.nc"
2   / 2:"tmp/step_18.nc"
3   / 3:"tmp/step_24.nc"
4   / 4:"tmp/step_6.nc" 
 
yes? define data/agg/t steps = file_list
yes? sh dat/members steps
currently SET data sets:
1&gt; steps  (default)
name     title                             I         J         K         L         M         N
MYVAR    SIN(T[GT=TDAY]/10) + L[GT=TDAY]  ...       ...       ...       1:4       ...       ...
 
time-dependent data files:
06-JAN-1980 00:00 -&gt; 06-JAN-1980 00:00    tmp/step_6.nc
12-JAN-1980 00:00 -&gt; 12-JAN-1980 00:00    tmp/step_12.nc
18-JAN-1980 00:00 -&gt; 18-JAN-1980 00:00    tmp/step_18.nc
24-JAN-1980 00:00 -&gt; 24-JAN-1980 00:00    tmp/step_24.nc
 
yes? list myvar
VARIABLE : SIN(T[GT=TDAY]/10) + L[GT=TDAY]/10
FILENAME : steps
SUBSET   : 4 points (TIME)
06-JAN-1980 00 / 1:  1.095
12-JAN-1980 00 / 2:  2.099
18-JAN-1980 00 / 3:  2.789
24-JAN-1980 00 / 4:  3.134
</b></pre><p><b>FMRC examples</b>. The aggregation defines the 2-dimensional Forecast time step matrix for the dataset. It is automatically named TF_TIMES.</p>
<pre>
 
! define a complete FMRC aggregation
yes? let files = SPAWN("cat file_list.dat")
 
yes? list files  ! notice that they are not properly ordered
 
VARIABLE : SPAWN("ls -1 tmp/fcst_*.nc")
SUBSET   : 11 points (X)
1    /  1:"tmp/fcst_10.nc"
2    /  2:"tmp/fcst_11.nc"
3    /  3:"tmp/fcst_1.nc" 
4    /  4:"tmp/fcst_2.nc" 
5    /  5:"tmp/fcst_3.nc" 
6    /  6:"tmp/fcst_4.nc" 
7    /  7:"tmp/fcst_5.nc" 
8    /  8:"tmp/fcst_6.nc" 
9    /  9:"tmp/fcst_7.nc" 
10   / 10:"tmp/fcst_8.nc" 
11   / 11:"tmp/fcst_9.nc" 
 
yes? fmrc my_fmrc = files
 
yes? show data/brief    ! note that member files are hidden
currently SET data sets:
12&gt; my_fmrc  (default)  Forecast aggregation
 
yes? show data/members my_fmrc   ! note that the ordering is correct.
currently SET data sets:
12&gt; my_fmrc  (default)  Forecast aggregation
name     title                             I         J         K         L         M         N
FCST     FIELD + FCST_ERROR               1:21      1:21      ...       1:24      ...       1:11
(L=1:24)
TF_TIMES Forecast time step matrix        ...       ...       ...       1:24      ...       1:11
FCST_2   another variable                 1:21      1:21      ...       1:24      ...       1:11
(L=1:24)
 
Aggregated datasets:
1 : tmp/fcst_1.nc
2 : tmp/fcst_2.nc
3 : tmp/fcst_3.nc
4 : tmp/fcst_4.nc
5 : tmp/fcst_5.nc
6 : tmp/fcst_6.nc
7 : tmp/fcst_7.nc
8 : tmp/fcst_8.nc
9 : tmp/fcst_9.nc
10: tmp/fcst_10.nc
11: tmp/fcst_11.nc
 
! Show the forecast variable on the native, compact T-F grid
yes? show grid fcst
GRID (G015)  Forecast Aggregation Grid
name       axis              # pts   start                end                 subset
XAX       LONGITUDE           21mr   140E                 160E                full
YAX       LATITUDE            21 r   20N                  40N                 full
normal    Z
TF_LAG_T  MODEL ELAPSED TIME (24 r   15.196               714.2               full
normal    E
TF_CAL_F  FORECAST            11 i   01-JAN-1950 00:00    01-JUL-1952 00:00   full
 
yes? shade/i=10/j=10 fcst
</pre><div class="dnd-atom-wrapper type-image context-sdl_editor_representation" contenteditable="false">
<div class="dnd-drop-wrapper"><!-- scald=55:sdl_editor_representation --><div class='image'><img typeof="foaf:Image" src="../../../sites/default/files/thumbnails/image/agg_f_1.png" width="692" height="597" alt="agg_f_1.png" title="forecast variable on the native, compact T-F grid" /></div><!-- END scald=55 --></div>
<div class="dnd-legend-wrapper" contenteditable="true">
<div class="meta">
<!--END copyright=55--></div>
</div>
</div>
<p>Diagonal form, using<a href="../Grids-Regions/GRIDS.html#_4.2.7" title="4.2 GRIDS"> Auxiliary-variable regridding</a> to apply the information in the TF_TIMES coordinate matrix.</p>
<pre>
yes? shade/i=10/j=10 fcst[gt(tf_times)=TF_CAL_T@FMRC]
</pre><div class="dnd-atom-wrapper type-image context-sdl_editor_representation" contenteditable="false">
<div class="dnd-drop-wrapper"><!-- scald=56:sdl_editor_representation --><div class='image'><img typeof="foaf:Image" src="../../../sites/default/files/thumbnails/image/agg_f_2.png" width="692" height="597" alt="agg_f_2.png" title="Diagonal form, using Auxiliary-variable regridding to apply the information in the TF_TIMES coordinate matrix. " /></div><!-- END scald=56 --></div>
<div class="dnd-legend-wrapper" contenteditable="true">
<div class="meta">
<!--copyright=56--><!--END copyright=56--></div>
</div>
</div>
<p>For further examples using FMRC datasets, see these documents:</p>
<p><a href="../../../sites/default/files/atoms/files/Using_Forecast_Model_Run_Collections_in_Ferret.pdf">Using_Forecast_Model_Run_Collections_in_Ferret.pdf</a></p>
<p><a href="../../../sites/default/files/atoms/files/PyFerret_ensembles_of_FMRCs.pdf">PyFerret_ensembles_of_FMRCs.pdf</a></p>
<p align="left" class="secHeader"><a name="pyfunc" id="pyfunc"></a><b>DEFINE PYFUNC </b></p>
<p class="pnormal"><b>Pyferret only</b></p>
<p class="pnormal"><b>DEFINE PYFUNC [ /NAME=<i>alias</i> ] <i>module.name</i></b><br />
Creates an external function using the Python module given by <i>module.name</i>. If <i>/NAME</i> is given, the name of the function will the the name given by <i>alias</i>.</p>
<p> </p>
</div>
</div>
</div>

</div>

<div class="clearfix">
<nav class="links node-links clearfix"></nav>

</div>
</article>
</div>
</div>
</div>      </div>
</div>  </div>
</div></section>    
 
<footer id="section-footer" class="section section-footer">

  <div id="zone-footer-wrapper" class="zone-wrapper zone-footer-wrapper clearfix">  
  <div id="zone-footer" class="zone zone-footer clearfix container-12">
    <div class="grid-8 region region-footer-first" id="region-footer-first">
  <div class="region-inner region-footer-first-inner">
    <div class="block block-block block-1 block-block-1 odd block-without-title" id="block-block-1">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-block block-2 block-block-2 even block-without-title" id="block-block-2">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-menu block-menu-footer-first-menu block-menu-menu-footer-first-menu odd block-without-title" id="block-menu-menu-footer-first-menu">

  </div>
</div>  </div>
</div><div class="grid-4 region region-footer-second" id="region-footer-second">
  <div class="region-inner region-footer-second-inner">
    <div class="block block-menu block-menu-footer-second-menu block-menu-menu-footer-second-menu odd block-without-title" id="block-menu-menu-footer-second-menu">
  <div class="block-inner clearfix">
                
  </div>
</div>  </div>
</div>  </div>
</div></footer>  </div>  <div class="region region-page-bottom" id="region-page-bottom">
  <div class="region-inner region-page-bottom-inner">
      </div>
</div>  <div id="body-bg-bottom"></div>
</body>
</html>
