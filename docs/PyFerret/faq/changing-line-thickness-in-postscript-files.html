 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML+RDFa 1.1//EN">
<html lang="en" dir="ltr" version="HTML+RDFa 1.1"
xmlns:content="http://purl.org/rss/1.0/modules/content/"
xmlns:dc="http://purl.org/dc/terms/"
xmlns:foaf="http://xmlns.com/foaf/0.1/"
xmlns:og="http://ogp.me/ns#"
xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
xmlns:sioc="http://rdfs.org/sioc/ns#"
xmlns:sioct="http://rdfs.org/sioc/types#"
xmlns:skos="http://www.w3.org/2004/02/skos/core#"
xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
xmlns:schema="http://schema.org/">
<head profile="http://www.w3.org/1999/xhtml/vocab">
<title>changing line thickness in PostScript files - Ferret/PyFerret FAQs</title>

<link rel="stylesheet" href="../modules/system/system.base.css">
<link rel="stylesheet" href="../modules/system/system.menus.css">
<link rel="stylesheet" href="../modules/system/system.messages.css">
<link rel="stylesheet" href="../modules/system/system.theme.css">

<link rel="stylesheet" href="../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.core.min.css">
<link rel="stylesheet" href="../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.theme.min.css">
<link rel="stylesheet" href="../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.menu.min.css">
<link rel="stylesheet" href="../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.autocomplete.min.css">

<link rel="stylesheet" href="../sites/all/modules/calendar/css/calendar_multiday.css">
<link rel="stylesheet" href="../modules/field/theme/field.css">
<link rel="stylesheet" href="../sites/all/modules/scald/modules/fields/mee/css/editor-global.css">
<link rel="stylesheet" href="../modules/node/node.css">
<link rel="stylesheet" href="../sites/all/modules/scald_file/scald_file.css">
<link rel="stylesheet" href="../modules/search/search.css">
<link rel="stylesheet" href="../modules/user/user.css">
<link rel="stylesheet" href="../sites/all/modules/views/css/views.css">
<link rel="stylesheet" href="../sites/all/modules/ckeditor/css/ckeditor.css">

<link rel="stylesheet" href="../sites/all/modules/ctools/css/ctools.css">
<link rel="stylesheet" href="../sites/all/modules/custom_search/custom_search.css">
<link rel="stylesheet" href="../sites/all/modules/search_autocomplete/css/themes/minimal.css">
<link rel="stylesheet" href="../sites/all/libraries/superfish/css/superfish.css">
<link rel="stylesheet" href="../sites/all/libraries/superfish/css/superfish-smallscreen.css">
<link rel="stylesheet" href="../sites/all/libraries/superfish/css/superfish-vertical.css">

<link rel="stylesheet" href="../sites/all/themes/pacific_marine/css/ckeditor_custom.css">

<link rel="stylesheet" href="../sites/all/themes/omega/alpha/css/alpha-reset.css">
<link rel="stylesheet" href="../sites/all/themes/omega/alpha/css/alpha-mobile.css">
<link rel="stylesheet" href="../sites/all/themes/omega/alpha/css/alpha-alpha.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/formalize.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/omega-text.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/omega-branding.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/omega-menu.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/omega-forms.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/omega-visuals.css">
<link rel="stylesheet" href="../sites/all/themes/pacific_marine/css/global.css">



<link rel="stylesheet" href="../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css">
<link rel="stylesheet" href="../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-wide.css">
<link rel="stylesheet" href="../sites/all/themes/omega/alpha/css/grid/alpha_default/wide/alpha-default-wide-12.css">


</head>
<body class="html not-front not-logged-in page-node page-node- page-node-555 node-type-documentation-page context-documentation">
  <div id="body-bg-top"></div>
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div class="page clearfix" id="page">
      <header id="section-header" class="section section-header">
  <div id="zone-header-wrapper" class="zone-wrapper zone-header-wrapper clearfix">  
  <div id="zone-header" class="zone zone-header clearfix container-12">
    <div class="grid-7 region region-branding" id="region-branding">
  <div class="region-inner region-branding-inner">
        <div class="branding-data clearfix">
            <div class="logo-img">
        <a href="../index.html" rel="home" title=""><img src="../sites/all/themes/pacific_marine/images/ferret-banner.png" alt="" id="logo" /></a>
		</div>
                </div>
          </div>
</div><div class="grid-5 region region-header-first" id="region-header-first">
  <div class="region-inner region-header-first-inner">
    <div class="block block-block block-4 block-block-4 odd block-without-title" id="block-block-4">
  <div class="block-inner clearfix">

  </div>
</div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-menu-wrapper" class="zone-wrapper zone-menu-wrapper clearfix">  
  <div id="zone-menu" class="zone zone-menu clearfix container-12">
    <div class="grid-12 region region-menu" id="region-menu">
  <div class="region-inner region-menu-inner">
        <div class="block block-system block-menu block-main-menu block-system-main-menu odd block-without-title" id="block-system-main-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu">
	  <li class="first expanded"><a href="../index.html">Home</a>
	  <ul class="menu">
	  </li>
<li class="leaf"><a href="../index.html">Ferret/PyFerret Home</a></li>
</ul></li>
<li class="leaf"><a href="../documentation/ferret-documentation.html">Documentation</a></li>
<li class="leaf"><a href="ferret-faqs.html">FAQ</a></li>
<li class="collapsed"><a href="../documentation/pyferret/downloads.html">Downloads</a></li>
<li class="collapsed"><a href="../documentation/pyferret-support.html">Support</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div>
  </div>
</div></header> 


      <section id="section-content" class="section section-content">
  <div id="zone-preface-wrapper" class="zone-wrapper zone-preface-wrapper clearfix">  
  <div id="zone-preface" class="zone zone-preface clearfix equal-height-container container-12">
    <div class="grid-3 region region-preface-first equal-height-element" id="region-preface-first">
  <div class="region-inner region-preface-first-inner">
      </div>
</div><div class="grid-9 region region-preface-second equal-height-element" id="region-preface-second">
  <div class="region-inner region-preface-second-inner">
      </div>
</div>  </div>
</div><div id="zone-content-wrapper" class="zone-wrapper zone-content-wrapper clearfix no-sidebar">  
  <div id="zone-content" class="zone zone-content clearfix equal-height-container container-12">    
        
        <div class="grid-12 region region-content equal-height-element" id="region-content">
  <div class="region-inner region-content-inner">
    <a id="main-content"></a>
            <div class="element-invisible">   
    </div>                    <div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <article about="/Ferret/index.html" typeof="foaf:Document" class="node node-page node-published node-not-promoted node-not-sticky author-burger odd clearfix" id="node-page-771">

<h2 class="block-title"><a href="ferret-faqs.html" class="active-trail">FAQ</a></h2>
<a id="main-content"></a>
<div class="element-invisible">    <h1 class="title" id="page-title">changing line thickness in PostScript files</h1>
</div>                    <div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
<div class="block-inner clearfix">
 
<div class="content clearfix">
<article about="/Ferret/faq/changing-line-thickness-in-postscript-files" typeof="foaf:Document" class="node node-page node-published node-not-promoted node-not-sticky author-burger odd clearfix" id="node-page-634">

<h1 id="page title"  class="node-title">changing line thickness in PostScript files</h1>  <div class="content clearfix">
 
<div class="field field-name-body field-type-text-with-summary field-label-hidden">
<div class="field-items">
<div class="field-item even" property="content:encoded"><h2>Question:</h2>
<blockquote><p>My lines or labels show up with too thin a line when I convert to PostScript plot. How can I make them thicker?</p>
</blockquote>
<h2>Example:</h2>
<p class="callout">Note that in PyFerret, the postscript and other graphics output files do not have this problem. In addition, the <a title="PLOT" href="../documentation/users-guide/commands-reference/PLOT#_pyferret_color_thick">/THICKNESS</a> qualifier may take any positive value giving much more control over the thickness of plotted lines.</p>
<p>
</p><table><tbody><tr><td>This plot has three different line thicknesses in Ferret</td>
<td> But when translated to PostScript all the lines look thin</td>
</tr><tr><td><img class="image-inline" src="../sites/default/files/images/faq/changing_linewidths1.gif" alt="changing linewidths 1" /></td>
<td><img class="image-inline" src="../sites/default/files/images/faq/changing_linewidths2.gif" alt="changing linewidths 2" /></td>
</tr></tbody></table><p></p>
<p>Run Ferret to generate a plot, then from the Unix command line translate it to a PostScript plot:</p>
<pre>% ferret<br />yes? SET MODE META<br />yes? PLOT/THICK=1/COLOR=black/I=1:15/TITLE="Three curves" 1./i<br />yes? PLOT/THICK=2/COLOR=black/I=1:15/OVER 1./(i-2)<br />yes? PLOT/THICK=3/COLOR=black/I=1:15/OVER 1./(i-3)<br />yes? quit<br />% Fprint -R -o three.ps metafile.plt</pre><p>three.ps has the thin lines above.</p>
<h2>Explanation:</h2>
<p>On very high resolution printers (1200 dpi), and some display tools it is difficult for the eye to differentiate single, double, and triple pixel thick lines. They all appear "thin". To solve the problem we need only thicken the lines by more than the normal amount. This can accomplished through modifying the PostScript file (filename.ps) before sending it to the printer or through modifications to the Ferret metafile (filename.plt) before converting it to PostScript with Fprint or gksm2ps.</p>
<h2>Some Solutions:</h2>
<h3>Directly modify the PostScript file</h3>
<p> It is possible to directly modify the line thickness in the PostScript file generated by Fprint or gksm2ps. If you read through the first lines of the PostScript file you can find the lw definition, linewidth. In your favorite editor, changing</p>
<pre> <b>3000 div setlinewidth</b> to <b>1000 div setlinewidth</b></pre><p>will make ALL the lines in the plot three times thicker, including the text and axes. This will differentiate the three lines, making the plot look like the one on the left above.</p>
<h3>Use the following script</h3>
<p>Here is a unix shell script, ps_thicken, which will thicken all line widths. To triple all the line widths in a postscript file that was written by Fprint (i.e. gksm2ps)</p>
<pre>ps_thicken file.ps 3 &gt; file_thick.ps</pre><p></p>
<pre>#!/bin/csh -f<br /># Usage: ps_thicken ps_file factor<br /># Thickens lines in a PostScript file by changing the linewidth macro,<br /># Result goes to standard output.<br /><br /># get list of all arguments<br />set args = ($*)<br /><br /># if not enough arguments, complain.<br />if ($#args &lt; 2) then<br /> echo "Usage: ps_thicken ps_file factor"<br /> echo "Thickens all lines in a PostScript file by changing the linewidth macro."<br /> echo "Result goes to standard output."<br /> exit 1<br />endif<br /><br />sed -e "s/^\/lw {\(.*\) div setlinewidth/\/lw {$2 mul \1 div setlinewidth/" $1<br /></pre><h3>Work with the metafile</h3>
<p>To change only some of the line characteristics, work with the metafile. We have a Unix script called <a title="change_widths" href="change_widths">change_widths</a> which you can save, and from the shell, make change_widths executable and apply it to a metafile.</p>
<pre> % chmod +x change_widths<br /> % change_widths metafile.plt</pre><p>Applying the change_widths script to a metafile will have the effect of doubling the thickness of lines generated with PLOT+ pen numbers 7 and 13 (or equivalently /COLOR=BLACK/THICK=2 and /COLOR=BLACK/THICK=3, respectively).
</p><p>change_widths will result in the new file metafile_thick.plt.</p>
<pre> % change_widths metafile.plt<br /> % Fprint -R -o thickplot.ps metafile_thick.plt</pre><p>Upon converting the metafile to PostScript via Fprint as usual, the result also looks like the plot on the left above.</p>
<h3>More on the metafile approach</h3>
<p>A similar approach can be used to change the thickness of any of the lines. Look inside the metafile.plt file to see where line thicknesses are set. Find the section near the start of the metafile which lists characteristics of the different numbered lines. A portion of a metafile is listed below. The third column is the line number (1, 7, 13, ...) and the 5th column is line thickness.</p>
<pre> <b> . . .<br /> 51 29 1 1 1.00000 1<br /> 51 29 7 1 2.00000 1 </b><i>&lt;-- we'll change this line</i><b><br /> 51 29 13 1 3.00000 1<br /> 51 29 2 1 1.00000 2<br /> 51 29 8 1 2.00000 2</b></pre><p>To double the thickness only of /LINE=7 (the double thick black plotting line), while leaving all other lines unaffected, change</p>
<pre><b> 51 29 7 1 2.00000 1 </b>to<b> 51 29 7 1 4.00000 1</b></pre><p>The double thickness, "2.00000" is changed to quadruple thickness "4.00000" in the GKS metafile -- then the PostScript is generated as usual.</p>
<h3>Even more on the metafile approach</h3>
<p> A similar approach can be used to change the thickness of any of the lines. The mapping through which line color and thickness determine the pen number in the metafile can be found in the <a href="../documentation/users-guide/customizing-plots/COLOR#_VPID_246">Ferret Users Guide</a> (Chapter6, sec 1.5.2) . Pens 0-6 are thin (nominal thickness "1.00000"), 7-13 are double (nominal thickness "2.00000"), and 14-20 are triple (nominal thickness "3.00000"). Suppose you want to change /thick=2/color=red (pen 8) from double to triple thick and /thick=3/color=black (pen 14) from triple to 5x. Edit the file or use a Unix shell command, "sed" substitution, to accomplish this.</p>
<pre><b>sed -e "s/51 29 8 1 2.00000/51 29 8 1 3.00000/" -e "s/51 29 14 1 3.00000/51 29 14 1 5.00000/"</b></pre><p>Typically one wants to redirect the output to a new file, so the full command becomes</p>
<pre><b>sed -e "as above" metafile.plt &gt; new_metafile.plt</b></pre></div>
</div>
</div>

</div>

<div class="clearfix">
<nav class="links node-links clearfix"></nav>

</div>
</article>    </div>
</div>
</div>      </div>
</div>  </div>
</div></section>    
 
<footer id="section-footer" class="section section-footer">

  <div id="zone-footer-wrapper" class="zone-wrapper zone-footer-wrapper clearfix">  
  <div id="zone-footer" class="zone zone-footer clearfix container-12">
    <div class="grid-8 region region-footer-first" id="region-footer-first">
  <div class="region-inner region-footer-first-inner">
    <div class="block block-block block-1 block-block-1 odd block-without-title" id="block-block-1">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-block block-2 block-block-2 even block-without-title" id="block-block-2">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-menu block-menu-footer-first-menu block-menu-menu-footer-first-menu odd block-without-title" id="block-menu-menu-footer-first-menu">

  </div>
</div>  </div>
</div><div class="grid-4 region region-footer-second" id="region-footer-second">
  <div class="region-inner region-footer-second-inner">
    <div class="block block-menu block-menu-footer-second-menu block-menu-menu-footer-second-menu odd block-without-title" id="block-menu-menu-footer-second-menu">
  <div class="block-inner clearfix">
                
  </div>
</div>  </div>
</div>  </div>
</div></footer>  </div>  <div class="region region-page-bottom" id="region-page-bottom">
  <div class="region-inner region-page-bottom-inner">
      </div>
</div>  <div id="body-bg-bottom"></div>
</body>
</html>
